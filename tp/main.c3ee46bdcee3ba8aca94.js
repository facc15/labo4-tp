(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("390u"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=Object(r.e)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"390u":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return E}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function E(t){return t&&t._delegate?t._delegate:t}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return an}),n.d(e,"b",function(){return Au}),n.d(e,"c",function(){return Su}),n.d(e,"d",function(){return _u}),n.d(e,"e",function(){return Ou}),n.d(e,"f",function(){return _c}),n.d(e,"g",function(){return hc}),n.d(e,"h",function(){return _a}),n.d(e,"i",function(){return Fu}),n.d(e,"j",function(){return Gs}),n.d(e,"k",function(){return ku}),n.d(e,"l",function(){return Qs}),n.d(e,"m",function(){return wr}),n.d(e,"n",function(){return tu}),n.d(e,"o",function(){return oo}),n.d(e,"p",function(){return Tn}),n.d(e,"q",function(){return k}),n.d(e,"r",function(){return sn}),n.d(e,"s",function(){return Oo}),n.d(e,"t",function(){return pa}),n.d(e,"u",function(){return ma}),n.d(e,"v",function(){return ju}),n.d(e,"w",function(){return Na}),n.d(e,"x",function(){return dc}),n.d(e,"y",function(){return ka}),n.d(e,"z",function(){return sc}),n.d(e,"A",function(){return Hu}),n.d(e,"B",function(){return An}),n.d(e,"C",function(){return Tu}),n.d(e,"D",function(){return Iu}),n.d(e,"E",function(){return Xs}),n.d(e,"F",function(){return Zs}),n.d(e,"G",function(){return Er}),n.d(e,"H",function(){return ta}),n.d(e,"I",function(){return gr}),n.d(e,"J",function(){return xn}),n.d(e,"K",function(){return mc}),n.d(e,"L",function(){return Ta}),n.d(e,"M",function(){return Qu}),n.d(e,"N",function(){return un}),n.d(e,"O",function(){return na}),n.d(e,"P",function(){return ea}),n.d(e,"Q",function(){return Ra}),n.d(e,"R",function(){return V}),n.d(e,"S",function(){return ac}),n.d(e,"T",function(){return ic}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return rc}),n.d(e,"W",function(){return bc}),n.d(e,"X",function(){return Xu}),n.d(e,"Y",function(){return xu}),n.d(e,"Z",function(){return ao}),n.d(e,"ab",function(){return ks}),n.d(e,"bb",function(){return dr}),n.d(e,"cb",function(){return Yn}),n.d(e,"db",function(){return Fn}),n.d(e,"eb",function(){return qn}),n.d(e,"fb",function(){return Gn}),n.d(e,"gb",function(){return Bn}),n.d(e,"hb",function(){return Hn}),n.d(e,"ib",function(){return zn}),n.d(e,"jb",function(){return Ts}),n.d(e,"kb",function(){return vc}),n.d(e,"lb",function(){return As}),n.d(e,"mb",function(){return xs}),n.d(e,"nb",function(){return Un}),n.d(e,"ob",function(){return H}),n.d(e,"pb",function(){return No}),n.d(e,"qb",function(){return Wo}),n.d(e,"rb",function(){return Ko}),n.d(e,"sb",function(){return $o}),n.d(e,"tb",function(){return Is}),n.d(e,"ub",function(){return Tt}),n.d(e,"vb",function(){return f}),n.d(e,"wb",function(){return Mn}),n.d(e,"xb",function(){return Eo}),n.d(e,"yb",function(){return _t}),n.d(e,"zb",function(){return Hs}),n.d(e,"Ab",function(){return hi}),n.d(e,"Bb",function(){return Lo}),n.d(e,"Cb",function(){return _s}),n.d(e,"Db",function(){return us}),n.d(e,"Eb",function(){return pu}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return at}),n.d(e,"Hb",function(){return O}),n.d(e,"Ib",function(){return S}),n.d(e,"Jb",function(){return it}),n.d(e,"Kb",function(){return ut}),n.d(e,"Lb",function(){return Fo}),n.d(e,"Mb",function(){return zo}),n.d(e,"Nb",function(){return Bo}),n.d(e,"Ob",function(){return Ho}),n.d(e,"Pb",function(){return Go}),n.d(e,"Qb",function(){return tn}),n.d(e,"Rb",function(){return Os}),n.d(e,"Sb",function(){return En}),n.d(e,"Tb",function(){return nn}),n.d(e,"Ub",function(){return wu}),n.d(e,"Vb",function(){return Qo}),n.d(e,"Wb",function(){return gu}),n.d(e,"Xb",function(){return Xo}),n.d(e,"Yb",function(){return Xa}),n.d(e,"Zb",function(){return Ja}),n.d(e,"ac",function(){return es}),n.d(e,"bc",function(){return ts}),n.d(e,"cc",function(){return Uo}),n.d(e,"dc",function(){return Qa}),n.d(e,"ec",function(){return Ya}),n.d(e,"fc",function(){return fu}),n.d(e,"gc",function(){return Mo}),n.d(e,"hc",function(){return Kt}),n.d(e,"ic",function(){return mr}),n.d(e,"jc",function(){return ot}),n.d(e,"kc",function(){return Vo}),n.d(e,"lc",function(){return bu}),n.d(e,"mc",function(){return vs}),n.d(e,"nc",function(){return bs}),n.d(e,"oc",function(){return ws}),n.d(e,"pc",function(){return du});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${w(t)} found${n}`)}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return C(t,T)||C(t,x)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(j))?t[A]:null}const T=l({"\u0275prov":l}),A=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),j=l({ngInjectorDef:l});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function D(t){const e=N;return N=t,e}function R(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function P(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,H=M||q||F||U,B={},z=[],G=[],K=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Z=l({"\u0275fac":l}),X=l({__NG_ELEMENT_ID__:l});let J=0;function tt(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function ot(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return Ot}function Ot(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),St}function St(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new wt(u&&u.currentValue,e,s===B),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let It;function Tt(t){It=t}function At(t){return!!t.listen}_t.ngInherit=!0;const xt={createRenderer:(t,e)=>void 0!==It?It:"undefined"!=typeof document?document:void 0};function jt(t){for(;Array.isArray(t);)t=t[0];return t}function kt(t,e){return jt(e[t])}function Nt(t,e){return jt(e[t.index])}function Dt(t,e){return t.data[e]}function Rt(t,e){return t[e]}function Pt(t,e){const n=e[t];return dt(n)?n:n[0]}function Lt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Vt(t){return 4==(4&t[2])}function Mt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ht={lFrame:fe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return Ht.bindingsEnabled}function zt(){return Ht.lFrame.lView}function Gt(){return Ht.lFrame.tView}function Kt(t){Ht.lFrame.contextLView=t}function $t(){let t=Wt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Wt(){return Ht.lFrame.currentTNode}function Qt(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Ht.lFrame.isParent}function Zt(){Ht.lFrame.isParent=!1}function Xt(){return Ht.isInCheckNoChangesMode}function Jt(t){Ht.isInCheckNoChangesMode=t}function te(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return Ht.lFrame.bindingIndex}function ne(){return Ht.lFrame.bindingIndex++}function re(t){const e=Ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){Ht.lFrame.currentDirectiveIndex=t}function se(){return Ht.lFrame.currentQueryIndex}function ae(t){Ht.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ht.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?fe(t):e}function fe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=de;function ge(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return Ht.lFrame.selectedIndex}function ye(t){Ht.lFrame.selectedIndex=t}function ve(){const t=Ht.lFrame;return Dt(t.tView,t.selectedIndex)}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function we(t,e,n){Se(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function Oe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ee(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ee(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ce=-1;class Ie{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];xe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ne(t){return t!==Ce}function De(t){return 32767&t}function Re(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Pe=!0;function Le(t){const e=Pe;return Pe=t,e}let Ve=0;function Me(t,e){const n=Ue(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=qe(t,e),o=t.injectorIndex;if(Ne(i)){const t=De(i),n=Re(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function He(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Ve++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Be(t,e,n){if(n&k.Optional)return t;_(e,"NodeInjector")}function ze(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&k.Optional):R(e,r,n&k.Optional)}finally{D(o)}}return Be(r,e,n)}function Ge(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof o){if(!ce(e,t,r))return r&k.Host?Be(i,n,r):ze(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;_(n)}finally{pe()}}else if("number"==typeof o){let i=null,s=Ue(t,e),a=Ce,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?qe(t,e):e[s+8],a!==Ce&&Xe(r,!1)?(i=e[1],s=De(a),e=Re(a,e)):s=-1);-1!==s;){const t=e[1];if(Ze(o,s,t.data)){const t=We(s,e,n,i,r,u);if(t!==Ke)return t}a=e[s+8],a!==Ce&&Xe(r,e[1].data[s+8]===u)&&Ze(o,s,e)?(i=t,s=De(a),e=Re(a,e)):s=-1}}}return ze(e,n,r,i)}const Ke={};function $e(){return new Je($t(),zt())}function We(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Qe(a,s,n,null==r?mt(a)&&Pe:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?Ye(e,s,u,a):Ke}function Qe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function Ye(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ie){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=Le(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;ce(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Ot(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),Le(a),s.resolving=!1,pe()}}return i}function Ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Xe(t,e){return!(t&k.Self||t&k.Host&&e)}class Je{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function tn(t){return P(()=>{const e=t.prototype.constructor,n=e[Z]||en(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||en(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return y(t)?()=>{const e=en(m(t));return e&&e()}:bt(t)}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}const rn="__parameters__";function on(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const an=new sn("AnalyzeForEntryComponents"),un=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cn(r,e)):e!==t&&e.push(r)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function pn(t,e,n){let r=mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const yn={},vn=/\n/gm,bn="__source",wn=l({provide:String,useValue:l});let _n;function On(t){const e=_n;return _n=t,e}function Sn(t,e=k.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?R(t,void 0,e):_n.get(t,e&k.Optional?null:void 0,e)}function En(t,e=k.Default){return(N||Sn)(m(t),e)}function Cn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(En(t,n))}else e.push(En(r))}return e}function In(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Tn=In(on("Inject",t=>({token:t})),-1),An=In(on("Optional"),8),xn=In(on("SkipSelf"),4);let jn;function kn(t){var e;return(null===(e=function(){if(void 0===jn&&(jn=null,H.trustedTypes))try{jn=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return jn}())||void 0===e?void 0:e.createHTML(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dn extends Nn{getTypeName(){return"HTML"}}class Rn extends Nn{getTypeName(){return"Style"}}class Pn extends Nn{getTypeName(){return"Script"}}class Ln extends Nn{getTypeName(){return"URL"}}class Vn extends Nn{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof Nn&&t.getTypeName()||null}function qn(t){return new Dn(t)}function Hn(t){return new Rn(t)}function Bn(t){return new Pn(t)}function zn(t){return new Ln(t)}function Gn(t){return new Vn(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(kn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $n{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=kn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=kn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Wn)||t.match(Qn)?t:"unsafe:"+t}function Zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Xn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jn=Zn("area,br,col,hr,img,wbr"),tr=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Zn("rp,rt"),nr=Xn(er,tr),rr=Xn(Jn,Xn(tr,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xn(er,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Zn("srcset"),sr=Xn(ir,or,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Zn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=Yn(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Jn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function dr(t,e){let n=null;try{fr=fr||function(t){const e=new $n(t);return function(){try{return!!(new window.DOMParser).parseFromString(kn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);return kn((new ur).sanitizeChildren(pr(n)||n))}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=function(){const t=zt();return t&&t[12]}();return e?e.sanitize(gr.URL,t)||"":Fn(t,"URL")?Mn(t):Yn(b(t))}function yr(t){return t.ngDebugContext}function vr(t){return t.ngOriginalError}function br(t,...e){t.error(...e)}class wr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||br}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yr(t)?yr(t):this._findContext(vr(t)):null}_findOriginalError(t){let e=vr(t);for(;e&&vr(e);)e=vr(e);return e}}function _r(t,e){t.__ngContext__=e}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Sr(t){return t instanceof Function?t():t}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Cr(t,e){return(void 0)(t,e)}function Ir(t){const e=t[3];return pt(e)?e[3]:e}function Tr(t){return xr(t[13])}function Ar(t){return xr(t[4])}function xr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function jr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=jt(r);0===t&&null!==n?null==i?Mr(e,n,a):Vr(e,n,a,i||null,!0):1===t&&null!==n?Vr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Ur(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==jt(n)&&jr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Wr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function kr(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Dr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Nr(o,r),e>0&&(t[n-1][4]=r[4]);const s=fn(t,ft+e);Wr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Rr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&Wr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Pr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Pr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ie)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):jt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Nr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Lr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}function Vr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Mr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Vr(t,e,n,r,i):Mr(t,e,n)}function Ur(t,e){return At(t)?t.parentNode(e):e.parentNode}function qr(t,e,n){return Hr(t,e,n)}let Hr=function(t,e,n){return 40&t.type?Nt(t,n):null};function Br(t,e,n,r){const i=Lr(t,r,e),o=e[11],s=qr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fr(o,i,n[a],s,!1);else Fr(o,i,n,s,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Kr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return pt(n)?Kr(-1,n):jt(n)}}if(32&n)return Cr(e,t)()||jt(t[e.index]);{const n=Gr(t,e);return null!==n?Array.isArray(n)?n[0]:zr(Ir(t[16]),n):zr(t,e.next)}}return null}function Gr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Kr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function $r(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&_r(jt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)$r(t,e,n.child,r,i,o,!1),jr(e,t,i,a,o);else if(32&u){const s=Cr(n,r);let u;for(;u=s();)jr(e,t,i,u,o);jr(e,t,i,a,o)}else 16&u?Qr(t,e,r,n,i,o):jr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Wr(t,e,n,r,i,o){$r(n,r,t.firstChild,e,i,o,!1)}function Qr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)jr(e,t,i,a[u],o);else $r(t,e,a,s[3],i,o,!0)}function Yr(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Jr="ng-template";function ti(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ei(t){return 4===t.type&&t.value!==Jr}function ni(t,e,n){return e===(4!==t.type||n?t.value:Jr)}function ri(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ni(t,u,n)||""===u&&1===e.length){if(ii(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ti(t.attrs,c,n)){if(ii(r))return!1;s=!0}continue}const l=oi(8&r?"class":u,i,ei(t),n);if(-1===l){if(ii(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Xr(e,c,0)||2&r&&c!==t){if(ii(r))return!1;s=!0}}}}else{if(!s&&!ii(r)&&!ii(u))return!1;if(s&&ii(u))continue;s=!1,r=u|1&r}}return ii(r)||s}function ii(t){return 0==(1&t)}function oi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function si(t,e,n=!1){for(let r=0;r<e.length;r++)if(ri(t,e[r],n))return!0;return!1}function ai(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ui(t,e){return t?":not("+e.trim()+")":e}function ci(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ii(s)||(e+=ui(o,i),i=""),r=s,o=o||!ii(r);n++}return""!==i&&(e+=ui(o,i)),e}const li={};function hi(t){fi(Gt(),zt(),me()+t,Xt())}function fi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&we(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ye(n)}function di(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function gi(t){return 2|t}function mi(t){return(131068&t)>>2}function yi(t,e){return-131069&t|e<<2}function vi(t){return 1|t}function bi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ae(i),n.contentQueries(2,e[o],o)}}}function wi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function _i(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Wt(),s=Yt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ht.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function Oi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Si(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&Xi(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bi(t,e),t.staticViewQueries&&Xi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)$i(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ge()}}function Ei(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const o=Xt();try{Ut(e),Ht.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&we(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),Oe(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Ar(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Mt(n)&&Ei(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&bi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&we(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),Oe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,o=n[++t],s=n[++t];ie(o,i),s(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Xi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&we(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),Oe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{ge()}}function Ci(t,e,n,r){const i=e[10],o=!Xt(),s=Vt(e);try{o&&!s&&i.begin&&i.begin(),s&&Si(t,e,r),Ei(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ii(t,e,n,r,i){const o=me();try{ye(-1),2&r&&e.length>ht&&fi(t,e,ht,Xt()),n(r,i)}finally{ye(o)}}function Ti(t,e,n){Bt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Me(n,e),_r(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&qi(e,n,r);const u=Ye(e,t,a,n);_r(u,e),null!==s&&Hi(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ht.lFrame.currentDirectiveIndex;try{ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Li(r,i)}}finally{ye(-1),oe(s)}}(t,e,n))}function Ai(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ji(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ji(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:li);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ki(t,e,n,r){const i=to(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&eo(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,s,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(ro(t,n,c,r,i),mt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,At(o)?o.setProperty(u,r,i):xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ri(t,e,n,r){let i=!1;if(Bt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];si(n,s.selectors,!1)&&(i||(i=[]),He(Me(n,e),t,s.type),vt(s)?(Vi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Fi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Oi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=je(n.mergedAttrs,c.hostAttrs),Ui(t,n,e,u,c),Mi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ei(e)?null:Bi(n,i);o.push(c),s=Ni(n,u,s),a=Ni(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=je(n.mergedAttrs,n.attrs),i}function Pi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Li(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Vi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Mi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ui(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Ie(o,vt(i),null);t.blueprint[r]=s,n[r]=s,Pi(t,e,0,r,Oi(t,n,i.hostVars,li),i)}function qi(t,e,n){const r=Nt(e,t),i=xi(n),o=t[10],s=Wi(t,wi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Hi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Bi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Pt(e,t);if(Mt(n)){const t=n[1];80&n[2]?Ei(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=Tr(t);null!==n;n=Ar(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ei(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Mt(r)&&r[5]>0&&Ki(r)}}function $i(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Si(r,n,n[8])}function Wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qi(t){for(;t;){t[2]|=64;const e=Ir(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ei(t,e,t.template,n)}catch(i){throw no(e,i),i}finally{r.end&&r.end()}}function Zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lt(n),i=r[1];Ci(i,r,i.template,n)}}(t[8])}function Xi(t,e,n){ae(0),e(t,n)}const Ji=(()=>Promise.resolve(null))();function to(t){return t[7]||(t[7]=[])}function eo(t){return t.cleanup||(t.cleanup=[])}function no(t,e){const n=t[9],r=n?n.get(wr,null):null;r&&r.handleError(e)}function ro(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function io(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const oo=new sn("INJECTOR",-1);class so{get(t,e=yn){if(e===yn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const ao=new sn("Set Injector scope."),uo={},co={},lo=[];let ho;function fo(){return void 0===ho&&(ho=new so),ho}function po(t,e=null,n=null,r){return new go(t,n,e||fo(),r)}class go{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],i)),this.records.set(oo,vo(void 0,this));const o=this.records.get(ao);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=yn,n=k.Default){this.assertNotDestroyed();const r=On(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&E(t);e=n&&this.injectableDefInScope(n)?vo(mo(t),uo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?fo():this.parent).get(t,e=n&k.Optional&&e===yn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(f(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[bn]&&i.unshift(e[bn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{On(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ln(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ln(r,t=>this.processProvider(t,n,r||lo))}}this.injectorDefTypes.add(o);const a=bt(o)||(()=>new o);this.records.set(o,vo(a,uo));const u=r.providers;if(null!=u&&!s){const e=t;ln(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=wo(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return bo(t)?vo(void 0,t.useValue):vo(yo(t),uo)}(t);if(wo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=vo(void 0,uo,!0),e.factory=()=>Cn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===uo&&(e.value=co,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function mo(t){const e=E(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof sn)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dn(e,"?");throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function yo(t,e,n){let r;if(wo(t)){const e=m(t);return bt(e)||mo(e)}if(bo(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Cn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>En(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||mo(e);r=()=>new e(...Cn(t.deps))}var i;return r}function vo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bo(t){return null!==t&&"object"==typeof t&&wn in t}function wo(t){return"function"==typeof t}const _o=function(t,e,n){return function(t,e=null,n=null,r){const i=po(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Oo=(()=>{class t{static create(t,e){return Array.isArray(t)?_o(t,e,""):_o(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=yn,t.NULL=new so,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>En(oo)}),t.__NG_ELEMENT_ID__=-1,t})();function So(t,e){be(Lt(t)[1],$t())}function Eo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Co(t.inputs),e.declaredInputs=Co(t.declaredInputs),e.outputs=Co(t.outputs);const n=i.hostBindings;n&&Ao(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Io(t,o),s&&To(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Eo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=je(i.hostAttrs,n=je(n,i.hostAttrs))}}(r)}function Co(t){return t===B?{}:t===G?[]:t}function Io(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function To(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ao(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let xo=null;function jo(){if(!xo){const t=H.Symbol;if(t&&t.iterator)xo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(xo=n)}}}return xo}class ko{constructor(t){this.wrapped=t}static wrap(t){return new ko(t)}static unwrap(t){return ko.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ko}}function No(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&jo()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ro(t,e,n){return t[e]=n}function Po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lo(t,e,n,r){const i=zt();return Po(i,ne(),e)&&(Gt(),function(t,e,n,r,i,o){const s=Nt(t,e);!function(t,e,n,r,i,o,s){if(null==o)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),Lo}function Vo(t,e,n,r,i,o,s,a){const u=zt(),c=Gt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=_i(e,t,4,s||null,Ft(c,a));Ri(e,n,l,Ft(c,u)),be(e,l);const h=l.tViews=ji(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=u[11].createComment("");Br(c,u,f,h),_r(f,u),Wi(u,u[l]=zi(f,u,f,h)),yt(h)&&Ti(c,u,h),null!=s&&Ai(u,h,a)}function Mo(t){return Rt(Ht.lFrame.contextLView,ht+t)}function Fo(t,e=k.Default){const n=zt();return null===n?En(t,e):Ge($t(),n,m(t),e)}function Uo(t,e,n){const r=zt();return Po(r,ne(),e)&&Di(Gt(),ve(),r,t,e,r[11],n,!1),Uo}function qo(t,e,n,r,i){const o=i?"class":"style";ro(t,n,e.inputs[o],o,r)}function Ho(t,e,n,r){const i=zt(),o=Gt(),s=ht+t,a=i[11],u=i[s]=kr(a,e,Ht.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=_i(e,t,2,i,Ft(a,o));return Ri(e,n,u,Ft(a,s)),null!==u.attrs&&io(u,u.attrs,!1),null!==u.mergedAttrs&&io(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const f=c.styles;null!==f&&Yr(a,u,f),64!=(64&c.flags)&&Br(o,i,u,c),0===Ht.lFrame.elementDepthCount&&_r(u,i),Ht.lFrame.elementDepthCount++,yt(c)&&(Ti(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ai(i,c)}function Bo(){let t=$t();Yt()?Zt():(t=t.parent,Qt(t,!1));const e=t;Ht.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(be(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qo(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qo(n,e,zt(),e.stylesWithoutHost,!1)}function zo(t,e,n,r){Ho(t,e,n,r),Bo()}function Go(){return zt()}function Ko(t){return!!t&&"function"==typeof t.then}function $o(t){return!!t&&"function"==typeof t.subscribe}const Wo=$o;function Qo(t,e,n=!1,r){const i=zt(),o=Gt(),s=$t();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&eo(t),l=to(e);let h=!0;if(3&r.type){const f=Nt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,m=a?t=>a(jt(t[r.index])).target:r.index;if(At(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Zo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Zo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Zo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Qo}function Yo(t,e,n){try{return!1!==e(n)}catch(r){return no(t,r),!1}}function Zo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&Qi(s);let a=Yo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Yo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Xo(t=1){return function(t){return(Ht.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ht.lFrame.contextLView))[8]}(t)}function Jo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?si(t,o,!0):ai(r,o))return i}else n=i}return n}function ts(t){const e=zt()[16][6];if(!e.projection){const n=e.projection=dn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Jo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function es(t,e=0,n){const r=zt(),i=Gt(),o=_i(i,ht+t,16,null,n||null);null===o.projection&&(o.projection=e),Zt(),64!=(64&o.flags)&&function(t,e,n){Qr(e[11],0,e,n,Lr(t,n,e),qr(n.parent||e[6],n,e))}(i,r,o)}function ns(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?pi(o):mi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];rs(t[a],e)&&(u=!0,t[a+1]=r?vi(n):gi(n)),a=r?pi(n):mi(n)}u&&(t[n+1]=r?gi(o):vi(o))}function rs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}const is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function os(t){return t.substring(is.key,is.keyEnd)}function ss(t,e){const n=is.textEnd;return n===e?-1:(e=is.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,is.key=e,n),as(t,e,n))}function as(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function us(t,e){return function(t,e,n,r){const i=zt(),o=Gt(),s=re(2);o.firstUpdatePass&&hs(o,t,s,true),e!==li&&Po(i,s,e)&&ps(o,o.data[me()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(Mn(t))),t}(e),true,s)}(t,e),us}function cs(t,e){for(let n=function(t){return function(t){is.key=0,is.keyEnd=0,is.value=0,is.valueEnd=0,is.textEnd=t.length}(t),ss(t,as(t,0,is.textEnd))}(e);n>=0;n=ss(e,n))pn(t,os(e),!0)}function ls(t,e){return e>=t.expandoStartIndex}function hs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[me()],s=ls(t,n);ys(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ds(n=fs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=fs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==mi(r))return t[pi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=fs(null,t,e,n[1],r),n=ds(n,e.attrs,r),function(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ds(r,t[o].hostAttrs,n);return ds(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=pi(s),u=mi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=pi(t[a+1]);t[r+1]=di(e,a),0!==e&&(t[e+1]=yi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=di(a,0),0!==a&&(t[a+1]=yi(t[a+1],r)),a=r;else t[r+1]=di(u,0),0===a?a=r:t[u+1]=yi(t[u+1],r),u=r;l&&(t[r+1]=gi(t[r+1])),ns(t,c,r,!0),ns(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&mn(o,e)>=0&&(n[r+1]=vi(n[r+1]))}(e,c,t,r,o),s=di(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function fs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ds(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ds(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pn(t,s,!!n||e[++o]))}return void 0===t?null:t}function ps(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ms(1==(1&c)?gs(u,e,n,i,mi(c),s):void 0)||(ms(o)||2==(2&c)&&(o=gs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=At(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Er.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Er.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,kt(me(),n),i,o))}function gs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===li&&(l=c?z:void 0);let h=c?gn(l,r):u===r?l:void 0;if(o&&!ms(h)&&(h=gn(e,r)),ms(h)&&(a=h,s))return a;const f=t[i+1];i=s?pi(f):mi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=gn(t,r))}return a}function ms(t){return void 0!==t}function ys(t,e){return 0!=(t.flags&(e?16:32))}function vs(t,e=""){const n=zt(),r=Gt(),i=t+ht,o=r.firstCreatePass?_i(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Br(r,n,s,o),Qt(o,!1)}function bs(t){return ws("",t,""),bs}function ws(t,e,n){const r=zt(),i=function(t,e,n,r){return Po(t,ne(),n)?e+b(n)+r:li}(r,t,e,n);return i!==li&&function(t,e,n){const r=kt(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,me(),i),ws}function _s(t,e,n,r,i,o,s){!function(t,e,n,r){const i=Gt(),o=re(2);i.firstUpdatePass&&hs(i,null,o,r);const s=zt();if(n!==li&&Po(s,o,n)){const a=i.data[me()];if(ys(a,r)&&!ls(i,o)){let t=a.classesWithoutHost;null!==t&&(n=d(t,n||"")),qo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===li&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,s!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&ps(t,e,n,r,p,d,true,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Mn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(pn,cs,function(t,e,n,r,i,o,s,a){const u=function(t,e,n,r,i){const o=function(t,e,n,r){const i=Po(t,e,n);return Po(t,e+1,r)||i}(t,e,n,r);return Po(t,e+2,i)||o}(t,ee(),n,i,s);return re(3),u?e+b(n)+r+b(i)+o+b(s)+a:li}(zt(),t,e,n,r,i,o,s),!0)}function Os(t,e,n){const r=zt();return Po(r,ne(),e)&&Di(Gt(),ve(),r,t,e,r[11],n,!0),Os}const Ss=void 0;var Es=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Cs={};function Is(t,e,n){"string"!=typeof e&&(n=e,e=t[ks.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Cs[e]=t,n&&(Cs[e][ks.ExtraData]=n)}function Ts(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=js(e);if(n)return n;const r=e.split("-")[0];if(n=js(r),n)return n;if("en"===r)return Es;throw new Error(`Missing locale data for the locale "${t}".`)}function As(t){return Ts(t)[ks.CurrencyCode]||null}function xs(t){return Ts(t)[ks.PluralCase]}function js(t){return t in Cs||(Cs[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),Cs[t]}var ks=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ns="en-US";let Ds=Ns;function Rs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ds=t.toLowerCase().replace(/_/g,"-"))}function Ps(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ps(t[o],e,n,r,i);else{const o=Gt(),s=zt();let a=wo(t)?t:m(t.provide),u=yo(t);const c=$t(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(wo(t)||!t.multi){const r=new Ie(u,i,Fo),d=Ms(a,e,i?l:l+f,h);-1===d?(He(Me(c,s),o,a),Ls(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ms(a,e,l+f,h),p=Ms(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){He(Me(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ie(t,n,Fo);return o.multi=[],o.index=e,o.componentProviders=0,Vs(o,i,r&&!n),o}(i?Us:Fs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ls(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ls(o,t,d>-1?d:p,Vs(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ls(t,e,n,r){const i=wo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ms(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Fs(t,e,n,r){return qs(this.multi,[])}function Us(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),qs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],qs(i,o);return o}function qs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Hs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=vt(t);Ps(n,r.data,r.blueprint,i,!0),Ps(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Bs{}class zs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Gs=(()=>{class t{}return t.NULL=new zs,t})();function Ks(...t){}function $s(t,e){return new Qs(Nt(t,e))}const Ws=function(){return $s($t(),zt())};let Qs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ws,t})();function Ys(t){return t instanceof Qs?t.nativeElement:t}class Zs{}let Xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Js(),t})();const Js=function(){const t=zt(),e=Pt($t().index,t);return function(t){return t[11]}(dt(e)?e:t)};let ta=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class ea{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const na=new ea("11.2.6");class ra{constructor(){}supports(t){return No(t)}create(t){return new oa(t)}}const ia=(t,e)=>e;class oa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ia}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ca(n,r,i)?e:n,s=ca(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!No(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[jo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new sa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ua),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ua),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ua{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new aa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class la{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new ha}}class ha{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new fa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class fa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function da(){return new pa([new ra])}let pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||da()),deps:[[t,new xn,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:da}),t})();function ga(){return new ma([new la])}let ma=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ga()),deps:[[t,new xn,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:ga}),t})();function ya(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(jt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ya(e[1],e,n,r)}const s=n.type;if(8&s)ya(t,e,n.child,r);else if(32&s){const t=Cr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Gr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Ir(e[16]);ya(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class va{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ya(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Dr(t,n),fn(e,n))}this._attachedToViewContainer=!1}Rr(this._lView[1],this._lView)}onDestroy(t){ki(this._lView[1],this._lView,null,t)}markForCheck(){Qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Yi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Wr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ba extends va{constructor(t){super(t),this._view=t}detectChanges(){Zi(this._view)}checkNoChanges(){!function(t){Jt(!0);try{Zi(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const wa=Oa;let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=wa,t.__ChangeDetectorRef__=!0,t})();function Oa(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Pt(t.index,e);return new va(n,n)}return 47&t.type?new va(e[16],e):null}($t(),zt(),t)}const Sa=[new la],Ea=new pa([new ra]),Ca=new ma(Sa),Ia=function(){return ja($t(),zt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ia,t})();const Aa=Ta,xa=class extends Aa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=wi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Si(e,n,t),new va(n)}};function ja(t,e){return 4&t.type?new xa(e,t,$s(t,e)):null}class ka{}class Na{}const Da=function(){return Fa($t(),zt())};let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=Da,t})();const Pa=Ra,La=class extends Pa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return $s(this._hostTNode,this._hostLView)}get injector(){return new Je(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(Ne(t)){const e=Re(t,this._hostLView),n=De(t);return new Je(e[1].data[n+8],e)}return new Je(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Va(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ka,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new La(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],hn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Kr(i,o),a=n[11],u=Ur(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Wr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),hn(Ma(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Va(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);n&&(fn(Ma(this._lContainer),e),Rr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);return n&&null!=fn(Ma(this._lContainer),e)?new va(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Va(t){return t[8]}function Ma(t){return t[8]||(t[8]=[])}function Fa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=jt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Vr(n,Ur(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=zi(r,e,i,t),Wi(e,n)}return new La(n,t,e)}const Ua={};class qa extends Gs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new za(e,this.ngModule)}}function Ha(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ba=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class za extends Bs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ci).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ha(this.componentDef.inputs)}get outputs(){return Ha(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ua,i);return o!==Ua||r===Ua?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Zs,xt),s=i.get(ta,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):kr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:Ji,playerHandler:null,flags:0},f=ji(0,null,null,1,0,null,null,null,null,null),d=wi(null,f,h,l,null,null,o,a,s,i);let p,g;le(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=_i(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(io(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const c=r.createRenderer(t,e),l=wi(n,xi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(He(Me(a,n),s,e.type),Vi(s,a),Fi(a,n.length,1)),Wi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Te(a,c,["ng-version",na.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ii(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(g=Dt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ui(t,r,e,Oi(t,e,1,null),n));const i=Ye(e,t,r.directiveStart,r);_r(i,e);const o=Nt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=$t();e.contentQueries(1,s,t.directiveStart)}const a=$t();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),Pi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Li(e,s)),s}(t,this.componentDef,d,h,[So]),Si(f,d,null)}finally{ge()}return new Ga(this.componentType,p,$s(g,d),d,g)}}class Ga extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ba(r),this.componentType=t}get injector(){return new Je(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ka=new Map;class $a extends ka{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qa(this);const n=lt(t),r=t[Y]||null;r&&Rs(r),this._bootstrapComponents=Sr(n.bootstrap),this._r3Injector=po(t,e,[{provide:ka,useValue:this},{provide:Gs,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Oo.THROW_IF_NOT_FOUND,n=k.Default){return t===Oo||t===ka||t===oo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Wa extends Na{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,Ka.get(i),n),Ka.set(i,n));const o=Sr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new $a(this.moduleType,t)}}function Qa(t,e,n){const r=te()+t,i=zt();return i[r]===li?Ro(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ya(t,e,n,r){return Za(zt(),te(),t,e,n,r)}function Za(t,e,n,r,i,o){const s=e+n;return Po(t,s,i)?Ro(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===li?void 0:n}(t,s+1)}function Xa(t,e){const n=Gt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bt(r.type)),s=D(Fo);try{const t=Le(!1),e=o();return Le(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,zt(),i,e),e}finally{D(s)}}function Ja(t,e,n){const r=t+ht,i=zt(),o=Rt(i,r);return function(t,e){return ko.isWrapped(e)&&(e=ko.unwrap(e),t[ee()]=li),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Za(i,te(),e,o.transform,n,o):o.transform(n))}const tu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function eu(){return this._results[jo()]()}class nu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=jo(),n=nu.prototype;n[e]||(n[e]=eu)}get changes(){return this._changes||(this._changes=new tu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=cn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ru{constructor(t){this.queryList=t,this.matches=null}clone(){return new ru(this.queryList)}setDirty(){this.queryList.setDirty()}}class iu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new iu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==vu(t,e).matches&&this.queries[e].setDirty()}}class ou{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class su{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new su(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class au{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new au(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,uu(e,i)),this.matchTNodeWithReadOption(t,e,Qe(e,t,i,!1,!1))}else n===Ta?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Qs||r===Ra||r===Ta&&4&e.type)this.addMatch(e.index,-2);else{const n=Qe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function uu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function cu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?$s(t,e):4&t.type?ja(t,e):null}(e,t):-2===n?function(t,e,n){return n===Qs?$s(e,t):n===Ta?ja(e,t):n===Ra?Fa(e,t):void 0}(t,e,r):Ye(t,t[1],n,e)}function lu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:cu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function hu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=lu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&hu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];hu(n[1],n,i,r)}}}}}return r}function fu(t){const e=zt(),n=Gt(),r=se();ae(r+1);const i=vu(n,r);if(t.dirty&&Vt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?hu(n,e,r,[]):lu(n,e,i,r);t.reset(o,Ys),t.notifyOnChanges()}return!0}return!1}function du(t,e,n){const r=Gt();r.firstCreatePass&&(yu(r,new ou(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),mu(r,zt(),e)}function pu(t,e,n,r){const i=Gt();if(i.firstCreatePass){const o=$t();yu(i,new ou(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}mu(i,zt(),n)}function gu(){return t=zt(),e=se(),t[19].queries[e].queryList;var t,e}function mu(t,e,n){const r=new nu(4==(4&n));ki(t,e,r,r.destroy),null===e[19]&&(e[19]=new iu),e[19].queries.push(new ru(r))}function yu(t,e,n){null===t.queries&&(t.queries=new su),t.queries.track(new au(e,n))}function vu(t,e){return t.queries.getByIndex(e)}function bu(t,e){return ja(t,e)}function wu(t=k.Default){const e=Oa(!0);if(null!=e||t&k.Optional)return e;_("ChangeDetectorRef")}const _u=new sn("Application Initializer");let Ou=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ks,this.reject=Ks,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ko(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(En(_u,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Su=new sn("AppId"),Eu={provide:Su,useFactory:function(){return`${Cu()}${Cu()}${Cu()}`},deps:[]};function Cu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iu=new sn("Platform Initializer"),Tu=new sn("Platform ID"),Au=new sn("appBootstrapListener");let xu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const ju=new sn("LocaleId"),ku=new sn("DefaultCurrencyCode");class Nu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Du=function(t){return new Wa(t)},Ru=Du,Pu=function(t){return Promise.resolve(Du(t))},Lu=function(t){const e=Du(t),n=Sr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new za(n)),t},[]);return new Nu(e,n)},Vu=Lu,Mu=function(t){return Promise.resolve(Lu(t))};let Fu=(()=>{class t{constructor(){this.compileModuleSync=Ru,this.compileModuleAsync=Pu,this.compileModuleAndAllComponentsSync=Vu,this.compileModuleAndAllComponentsAsync=Mu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Uu=(()=>Promise.resolve(0))();function qu(t){"undefined"==typeof Zone?Uu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Hu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tu(!1),this.onMicrotaskEmpty=new tu(!1),this.onStable=new tu(!1),this.onError=new tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gu(t),zu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ku(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),$u(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Ku(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),$u(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Gu(t),zu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Bu,Ks,Ks);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Bu={};function zu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ku(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $u(t){t._nesting--,zu(t)}class Wu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tu,this.onMicrotaskEmpty=new tu,this.onStable=new tu,this.onError=new tu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Qu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hu.assertNotInAngularZone(),qu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(En(Hu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),Yu=(()=>{class t{constructor(){this._applications=new Map,tc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return tc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Zu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Xu(t){tc=t}let Ju,tc=new Zu,ec=!0,nc=!1;function rc(){return nc=!0,ec}function ic(){if(nc)throw new Error("Cannot enable prod mode after platform setup.");ec=!1}const oc=new sn("AllowMultipleToken");class sc{constructor(t,e){this.name=t,this.token=e}}function ac(t,e,n=[]){const r=`Platform: ${e}`,i=new sn(r);return(e=[])=>{let o=uc();if(!o||o.injector.get(oc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ao,useValue:"platform"});!function(t){if(Ju&&!Ju.destroyed&&!Ju.injector.get(oc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ju=t.get(cc);const e=t.get(Iu,null);e&&e.forEach(t=>t())}(Oo.create({providers:t,name:r}))}return function(t){const e=uc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function uc(){return Ju&&!Ju.destroyed?Ju:null}let cc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Wu:("zone.js"===t?void 0:t)||new Hu({enableLongStackTrace:rc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Hu,useValue:n}];return n.run(()=>{const e=Oo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(wr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{fc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ko(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ou);return t.runInitializers(),t.donePromise.then(()=>(Rs(i.injector.get(ju,Ns)||Ns),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=lc({},e);return function(t,e,n){const r=new Wa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(hc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(En(Oo))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function lc(t,e){return Array.isArray(e)?e.reduce(lc,t):Object.assign(Object.assign({},t),e)}let hc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Hu.assertNotInAngularZone(),qu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Hu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Bs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ka),i=n.create(Oo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Qu,null),a=s&&i.injector.get(Yu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),fc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;fc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Au,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(En(Hu),En(Oo),En(wr),En(Gs),En(Ou))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function fc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dc{}class pc{}const gc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let mc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||gc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>yc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>yc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(En(Fu),En(pc,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function yc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const vc=function(t){return null},bc=ac(null,"core",[{provide:Tu,useValue:"unknown"},{provide:cc,deps:[Oo]},{provide:Yu,deps:[]},{provide:xu,deps:[]}]),wc=[{provide:hc,useClass:hc,deps:[Hu,Oo,wr,Gs,Ou]},{provide:Ba,deps:[Hu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ou,useClass:Ou,deps:[[new An,_u]]},{provide:Fu,useClass:Fu,deps:[]},Eu,{provide:pa,useFactory:function(){return Ea},deps:[]},{provide:ma,useFactory:function(){return Ca},deps:[]},{provide:ju,useFactory:function(t){return Rs(t=t||"undefined"!=typeof $localize&&$localize.locale||Ns),t},deps:[[new Tn(ju),new An,new xn]]},{provide:ku,useValue:"USD"}];let _c=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(En(hc))},t.\u0275mod=it({type:t}),t.\u0275inj=S({providers:wc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return I}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:_,deps:[v,u.A,[new u.B,b]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Sb(u.C))},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("390u"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Sb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Sb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Sb)(s).location;return new b(Object(r.Sb)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(m),r.Sb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Hb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new _(Object(r.Sb)(m),Object(r.Sb)(a))}function S(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.mb;class I{}let T=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.vb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.t),r.Lb(r.u),r.Lb(r.l),r.Lb(r.E))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),x=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){k("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){k("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function k(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}class N{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class D{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const R=new D,P=new N;let L=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.rb)(e))return R;if(Object(r.sb)(e))return P;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub())},t.\u0275pipe=r.Kb({name:"async",type:t,pure:!1}),t})(),V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[{provide:I,useClass:T}]}),t})();function M(t){return"server"===t}let F=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new U(Object(r.Sb)(s),window)}),t})();class U{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class H extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new H,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=z||(z=document.querySelector("base"),z)?z.getAttribute("href"):null;return null==e?null:(n=e,B||(B=document.createElement("a")),B.setAttribute("href",n),"/"===B.pathname.charAt(0)?B.pathname:"/"+B.pathname);var n}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let B,z=null;const G=new r.r("TRANSITION_ID"),K=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[G,s,r.s],multi:!0}];class ${static init(){Object(r.X)(new $)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const W=new r.r("EventManagerPlugins");let Q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(W),r.Sb(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Z=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends Z{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=/%COMP%/g;function et(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?et(t,i,n):(i=i.replace(tt,t),n.push(i))}return n}function nt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let rt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new it(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ot(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=et(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Q),r.Sb(X),r.Sb(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(J[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=J[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=J[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,nt(n)):this.eventManager.addEventListener(t,e,nt(n))}}class ot extends it{constructor(t,e,n,r){super(t),this.component=n;const i=et(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(tt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(tt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends it{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=et(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let at=(()=>{class t extends Y{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ut=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ht={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ft=(()=>{class t extends Y{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ut.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&lt.hasOwnProperty(e)&&(e=lt[e]))}return ct[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ut.forEach(r=>{r!=n&&(0,ht[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const dt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){H.makeCurrent(),$.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],pt=Object(r.S)(r.W,"browser",dt),gt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:W,useClass:at,multi:!0,deps:[s,r.A,r.C]},{provide:W,useClass:ft,multi:!0,deps:[s]},[],{provide:rt,useClass:rt,deps:[Q,X,r.c]},{provide:r.F,useExisting:rt},{provide:Z,useExisting:X},{provide:X,useClass:X,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:Q,useClass:Q,deps:[W,r.A]},[]];let mt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:G,useExisting:r.c},K]}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(t,12))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:gt,imports:[V,r.f]}),t})();"undefined"!=typeof window&&window;var yt=n("Cfvw"),vt=n("LRne"),bt=n("XNiG"),wt=n("9ppp");class _t extends bt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new wt.a;return this._value}next(t){super.next(this._value=t)}}var Ot=n("z+Ro"),St=n("DH7j"),Et=n("7o/Q");class Ct extends Et.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class It extends Et.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Tt=n("SeVD"),At=n("HDdC");function xt(t,e,n,r,i=new It(t,n,r)){if(!i.closed)return e instanceof At.a?e.subscribe(i):Object(Tt.a)(e)(i)}var jt=n("yCtX");const kt={};class Nt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Dt(t,this.resultSelector))}}class Dt extends Ct{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(kt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(xt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===kt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Rt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Pt=n("bHdf");function Lt(...t){return Object(Pt.a)(1)(Object(vt.a)(...t))}var Vt=n("EY2u");function Mt(t){return new At.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(yt.a)(n):Object(Vt.b)()).subscribe(e)})}var Ft=n("EQ5u"),Ut=n("lJxs"),qt=n("zx2A");function Ht(t,e){return"function"==typeof e?n=>n.pipe(Ht((n,r)=>Object(yt.a)(t(n,r)).pipe(Object(Ut.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Bt(t))}class Bt{constructor(t){this.project=t}call(t,e){return e.subscribe(new zt(t,this.project))}}class zt extends qt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new qt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(qt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Gt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Kt(t){return e=>0===t?Object(Vt.b)():e.lift(new $t(t))}class $t{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new Wt(t,this.total))}}class Wt extends Et.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Qt(...t){const e=t[t.length-1];return Object(Ot.a)(e)?(t.pop(),n=>Lt(t,n,e)):e=>Lt(t,e)}function Yt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Zt(t,e,n))}}class Zt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Xt(t,this.accumulator,this.seed,this.hasSeed))}}class Xt extends Et.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Jt(t,e){return function(n){return n.lift(new te(t,e))}}class te{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ee(t,this.predicate,this.thisArg))}}class ee extends Et.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ne(t){return function(e){const n=new re(t),r=e.lift(n);return n.caught=r}}class re{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ie(t,this.selector,this.caught))}}class ie extends qt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new qt.a(this);this.add(r);const i=Object(qt.c)(n,r);i!==r&&this.add(i)}}}var oe=n("5+tZ");function se(t,e){return Object(oe.a)(t,e,1)}function ae(t){return function(e){return 0===t?Object(Vt.b)():e.lift(new ue(t))}}class ue{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new ce(t,this.total))}}class ce extends Et.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function le(t=de){return e=>e.lift(new he(t))}class he{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new fe(t,this.errorFactory))}}class fe extends Et.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Yb){t=Yb}this.destination.error(t)}}}function de(){return new Rt}function pe(t=null){return e=>e.lift(new ge(t))}class ge{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new me(t,this.defaultValue))}}class me extends Et.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ye=n("SpAZ");function ve(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):ye.a,Kt(1),n?pe(e):le(()=>new Rt))}var be=n("vkgz"),we=n("x+ZX"),_e=n("quSY");class Oe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Se(t,this.callback))}}class Se extends Et.a{constructor(t,e){super(t),this.add(new _e.a(e))}}class Ee{constructor(t,e){this.id=t,this.url=e}}class Ce extends Ee{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ie extends Ee{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Te extends Ee{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends Ee{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xe extends Ee{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends Ee{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Ee{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ne extends Ee{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends Ee{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Le{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qe="primary";class He{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Be(t){return new He(t)}function ze(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ge(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ke(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!$e(t[i],e[i]))return!1;return!0}function $e(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function We(t){return Array.prototype.concat.apply([],t)}function Qe(t){return t.length>0?t[t.length-1]:null}function Ye(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ze(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(yt.a)(Promise.resolve(t)):Object(vt.a)(t)}function Xe(t,e,n){return n?function(t,e){return Ke(t,e)}(t.queryParams,e.queryParams)&&Je(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$e(t[n],e[n]))}(t.queryParams,e.queryParams)&&tn(t.root,e.root)}function Je(t,e){if(!sn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Je(t.children[n],e.children[n]))return!1}return!0}function tn(t,e){return en(t,e,e.segments)}function en(t,e,n){if(t.segments.length>n.length)return!!sn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!sn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!tn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!sn(t.segments,r)&&!!t.children.primary&&en(t.children.primary,e,i)}}class nn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return cn.serialize(this)}}class rn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ye(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ln(this)}}class on{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return yn(this)}}function sn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class an{}class un{parse(t){const e=new On(t);return new nn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${hn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${dn(e)}=${dn(t)}`).join("&"):`${dn(e)}=${dn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const cn=new un;function ln(t){return t.segments.map(t=>yn(t)).join("/")}function hn(t,e){if(!t.hasChildren())return ln(t);if(e){const e=t.children.primary?hn(t.children.primary,!1):"",n=[];return Ye(t.children,(t,e)=>{e!==qe&&n.push(`${e}:${hn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ye(t.children,(t,r)=>{r===qe&&(n=n.concat(e(t,r)))}),Ye(t.children,(t,r)=>{r!==qe&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===qe?[hn(t.children.primary,!1)]:[`${n}:${hn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ln(t)}/${e[0]}`:`${ln(t)}/(${e.join("//")})`}}function fn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dn(t){return fn(t).replace(/%3B/gi,";")}function pn(t){return fn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gn(t){return decodeURIComponent(t)}function mn(t){return gn(t.replace(/\+/g,"%20"))}function yn(t){return`${pn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${pn(t)}=${pn(e[t])}`).join("")}`;var e}const vn=/^[^\/()?;=#]+/;function bn(t){const e=t.match(vn);return e?e[0]:""}const wn=/^[^=?&#]+/,_n=/^[^?&#]+/;class On{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new rn(t,e)),n}parseSegment(){const t=bn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new on(gn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=bn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=bn(this.remaining);t&&(n=t,this.capture(n))}t[gn(e)]=gn(n)}parseQueryParam(t){const e=function(t){const e=t.match(wn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(_n);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=mn(e),i=mn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=bn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=qe);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new rn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=En(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=En(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Cn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Cn(t,this._root).map(t=>t.value)}}function En(t,e){if(t===e.value)return e;for(const n of e.children){const e=En(t,n);if(e)return e}return null}function Cn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Cn(t,n);if(r.length)return r.unshift(e),r}return[]}class In{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Tn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class An extends Sn{constructor(t,e){super(t),this.snapshot=e,Rn(this,t)}toString(){return this.snapshot.toString()}}function xn(t,e){const n=function(t,e){const n=new Nn([],{},{},"",{},qe,e,null,t.root,-1,{});return new Dn("",new In(n,[]))}(t,e),r=new _t([new on("",{})]),i=new _t({}),o=new _t({}),s=new _t({}),a=new _t(""),u=new jn(r,i,s,a,o,qe,e,n.root);return u.snapshot=n.root,new An(new In(u,[]),n)}class jn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ut.a)(t=>Be(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ut.a)(t=>Be(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Nn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dn extends Sn{constructor(t,e){super(e),this.url=t,Rn(this,e)}toString(){return Pn(this._root)}}function Rn(t,e){e.value._routerState=t,e.children.forEach(e=>Rn(t,e))}function Pn(t){const e=t.children.length>0?` { ${t.children.map(Pn).join(", ")} } `:"";return`${t.value}${e}`}function Ln(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ke(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ke(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ke(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ke(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Vn(t,e){return Ke(t.params,e.params)&&sn(n=t.url,r=e.url)&&n.every((t,e)=>Ke(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Vn(t.parent,e.parent));var n,r}function Mn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Mn(t,e,r);return Mn(t,e)})}(t,e,n);return new In(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Fn(e,t),t}{const n=new jn(new _t((r=e.value).url),new _t(r.params),new _t(r.queryParams),new _t(r.fragment),new _t(r.data),r.outlet,r.component,r),i=e.children.map(e=>Mn(t,e));return new In(n,i)}}var r}function Fn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Fn(t.children[n],e.children[n])}function Un(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qn(t){return"object"==typeof t&&null!=t&&t.outlets}function Hn(t,e,n,r,i){let o={};return r&&Ye(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new nn(n.root===t?e:Bn(n.root,t,e),o,i)}function Bn(t,e,n){const r={};return Ye(t.children,(t,i)=>{r[i]=t===e?n:Bn(t,e,n)}),new rn(t.segments,r)}class zn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Un(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(qn);if(r&&r!==Qe(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Kn(t,e,n){if(t||(t=new rn([],{})),0===t.segments.length&&t.hasChildren())return $n(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(qn(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Zn(a,u,e))return o;r+=2}else{if(!Zn(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new rn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new rn(t.segments.slice(r.pathIndex),t.children),$n(e,0,i)}return r.match&&0===i.length?new rn(t.segments,{}):r.match&&!t.hasChildren()?Wn(t,e,n):r.match?$n(t,0,i):Wn(t,e,n)}function $n(t,e,n){if(0===n.length)return new rn(t.segments,{});{const r=function(t){return qn(t[0])?t[0].outlets:{[qe]:t}}(n),i={};return Ye(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Kn(t.children[r],e,n))}),Ye(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new rn(t.segments,i)}}function Wn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(qn(o)){const t=Qn(o.outlets);return new rn(r,t)}if(0===i&&Un(n[0])){r.push(new on(t.segments[e].path,Yn(n[0]))),i++;continue}const s=qn(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Un(a)?(r.push(new on(s,Yn(a))),i+=2):(r.push(new on(s,{})),i++)}return new rn(r,{})}function Qn(t){const e={};return Ye(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Wn(new rn([],{}),0,t))}),e}function Yn(t){const e={};return Ye(t,(t,n)=>e[n]=`${t}`),e}function Zn(t,e,n){return t==n.path&&Ke(e,n.parameters)}class Xn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ln(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Tn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ye(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Tn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Tn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Fe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ve(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ln(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Jn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Jn(t){Ln(t.value),t.children.forEach(Jn)}class tr{constructor(t,e){this.routes=t,this.module=e}}function er(t){return"function"==typeof t}function nr(t){return t instanceof nn}const rr=Symbol("INITIAL_VALUE");function ir(){return Ht(t=>function(...t){let e,n;return Object(Ot.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(St.a)(t[0])&&(t=t[0]),Object(jt.a)(t,n).lift(new Nt(e))}(t.map(t=>t.pipe(Kt(1),Qt(rr)))).pipe(Yt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==rr)return t;if(r===rr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||nr(r))return r}return t},t)},rr),Jt(t=>t!==rr),Object(Ut.a)(t=>nr(t)?t:!0===t),Kt(1)))}let or=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[Jr]},encapsulation:2}),t})();function sr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ar(r,ur(e,r))}}function ar(t,e){t.children&&sr(t.children,e)}function ur(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function cr(t){const e=t.children&&t.children.map(cr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==qe&&(n.component=or),n}function lr(t){return t.outlet||qe}function hr(t,e){const n=t.filter(t=>lr(t)===e);return n.push(...t.filter(t=>lr(t)!==e)),n}const fr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function dr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},fr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ge)(n,t,e);if(!i)return Object.assign({},fr);const o={};Ye(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function pr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>gr(t,e,n)&&lr(n)!==qe)}(t,n,r)){const i=new rn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&lr(o)!==qe){const n=new rn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[lr(o)]=n}return i}(t,e,r,new rn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>gr(t,e,n))}(t,n,r)){const o=new rn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(gr(t,n,a)&&!i[lr(a)]){const n=new rn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[lr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new rn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function gr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function mr(t,e,n,r){return!!(lr(t)===r||r!==qe&&gr(e,n,t))&&("**"===t.path||dr(e,t,n).matched)}function yr(t,e,n){return 0===e.length&&!t.children[n]}class vr{constructor(t){this.segmentGroup=t||null}}class br{constructor(t){this.urlTree=t}}function wr(t){return new At.a(e=>e.error(new vr(t)))}function _r(t){return new At.a(e=>e.error(new br(t)))}function Or(t){return new At.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Sr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=pr(this.urlTree.root,[],[],this.config).segmentGroup,e=new rn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,qe).pipe(Object(Ut.a)(t=>this.createUrlTree(Er(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ne(t=>{if(t instanceof br)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof vr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,qe).pipe(Object(Ut.a)(e=>this.createUrlTree(Er(e),t.queryParams,t.fragment))).pipe(ne(t=>{if(t instanceof vr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new rn([],{[qe]:t}):t;return new nn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ut.a)(t=>new rn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(yt.a)(r).pipe(se(r=>{const i=n.children[r],o=hr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Ut.a)(t=>({segment:t,outlet:r})))}),Yt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):ye.a,ae(1),n?pe(e):le(()=>new Rt))}())}expandSegment(t,e,n,r,i,o){return Object(yt.a)(n).pipe(se(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ne(t=>{if(t instanceof vr)return Object(vt.a)(null);throw t}))),ve(t=>!!t),ne((t,n)=>{if(t instanceof Rt||"EmptyError"===t.name){if(yr(e,r,i))return Object(vt.a)(new rn([],{}));throw new vr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return mr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):wr(e):wr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_r(i):this.lineralizeSegments(n,i).pipe(Object(oe.a)(n=>{const i=new rn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=dr(e,r,i);if(!s)return wr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?_r(l):this.lineralizeSegments(r,l).pipe(Object(oe.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(vt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Ut.a)(t=>(n._loadedConfig=t,new rn(r,{})))):Object(vt.a)(new rn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=dr(e,n,r);if(!o)return wr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(oe.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=pr(e,s,u,o),l=new rn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Ut.a)(t=>new rn(s,t)));if(0===o.length&&0===c.length)return Object(vt.a)(new rn(s,{}));const h=lr(n)===i;return this.expandSegment(r,l,o,c,h?qe:i,!0).pipe(Object(Ut.a)(t=>new rn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(vt.a)(new tr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(vt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(oe.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ut.a)(t=>(e._loadedConfig=t,t))):function(t){return new At.a(e=>e.error(ze(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(vt.a)(new tr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&er(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!er(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ze(o)});return Object(vt.a)(i).pipe(ir(),Object(be.a)(t=>{if(!nr(t))return;const e=ze(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ut.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(vt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Or(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new nn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ye(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ye(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new rn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Er(t){const e={};for(const n of Object.keys(t.children)){const r=Er(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new rn(t.segments.concat(e.segments),e.children)}return t}(new rn(t.segments,e))}class Cr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ir{constructor(t,e){this.component=t,this.route=e}}function Tr(t,e,n){const r=t._root;return xr(r,e?e._root:null,n,[r.value])}function Ar(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function xr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Tn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!sn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!sn(t.url,e.url)||!Ke(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vn(t,e)||!Ke(t.queryParams,e.queryParams);case"paramsChange":default:return!Vn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),xr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ir(a.outlet.component,s))}else s&&jr(e,a,i),i.canActivateChecks.push(new Cr(r)),xr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ye(o,(t,e)=>jr(t,n.getContext(e),i)),i}function jr(t,e,n){const r=Tn(t),i=t.value;Ye(r,(t,r)=>{jr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ir(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class kr{}function Nr(t){return new At.a(e=>e.error(t))}class Dr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=pr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,qe);if(null===e)return null;const n=new Nn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new In(n,e),i=new Dn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=kn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=hr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Rr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===qe?-1:e.value.outlet===qe?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return yr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!mr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Qe(n).parameters:{};i=new Nn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vr(t),lr(t),t.component,t,Pr(e),Lr(e)+n.length,Mr(t))}else{const r=dr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Nn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vr(t),lr(t),t.component,t,Pr(e),Lr(e)+o.length,Mr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=pr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new In(i,t)]}if(0===a.length&&0===c.length)return[new In(i,[])];const l=lr(t)===r,h=this.processSegment(a,u,c,l?qe:r);return null===h?null:[new In(i,h)]}}function Rr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Pr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Lr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Vr(t){return t.data||{}}function Mr(t){return t.resolve||{}}function Fr(t){return Ht(e=>{const n=t(e);return n?Object(yt.a)(n).pipe(Object(Ut.a)(()=>e)):Object(vt.a)(e)})}class Ur extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const qr=new r.r("ROUTES");class Hr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Ut.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new tr(We(i.injector.get(qr,void 0,r.q.Self|r.q.Optional)).map(cr),i)}),ne(t=>{throw e._loader$=void 0,t}));return e._loader$=new Ft.a(n,()=>new bt.a).pipe(Object(we.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(yt.a)(this.loader.load(t)):Ze(t()).pipe(Object(oe.a)(t=>t instanceof r.w?Object(vt.a)(t):Object(yt.a)(this.compiler.compileModuleAsync(t))))}}class Br{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zr,this.attachRef=null}}class zr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Br,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Gr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Kr(t){throw t}function $r(t,e,n){return e.parse("/")}function Wr(t,e){return Object(vt.a)(null)}let Qr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new bt.a,this.errorHandler=Kr,this.malformedUriErrorHandler=$r,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wr,afterPreactivation:Wr},this.urlHandlingStrategy=new Gr,this.routeReuseStrategy=new Ur,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new nn(new rn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hr(s,a,t=>this.triggerEvent(new Re(t)),t=>this.triggerEvent(new Pe(t))),this.routerState=xn(this.currentUrlTree,this.rootComponentType),this.transitions=new _t({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Jt(t=>0!==t.id),Object(Ut.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ht(t=>{let n=!1,r=!1;return Object(vt.a)(t).pipe(Object(be.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ht(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(vt.a)(t).pipe(Ht(t=>{const n=this.transitions.getValue();return e.next(new Ce(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Vt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Ht(t=>function(t,e,n,r,i){return new Sr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Ut.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(be.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(oe.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Dr(t,e,n,r,i,o).recognize();return null===s?Nr(new kr):Object(vt.a)(s)}catch(Yb){return Nr(Yb)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Ut.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(be.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ce(n,this.serializeUrl(r),i,o);e.next(a);const u=xn(r,this.rootComponentType).snapshot;return Object(vt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Vt.a}),Fr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(be.a)(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ut.a)(t=>Object.assign(Object.assign({},t),{guards:Tr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(oe.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(vt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(yt.a)(t).pipe(Object(oe.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(vt.a)(!0);const s=o.map(o=>{const s=Ar(o,e,i);let a;if(function(t){return t&&er(t.canDeactivate)}(s))a=Ze(s.canDeactivate(t,e,n,r));else{if(!er(s))throw new Error("Invalid CanDeactivate guard");a=Ze(s(t,e,n,r))}return a.pipe(ve())});return Object(vt.a)(s).pipe(ir())}(t.component,t.route,n,e,r)),ve(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(oe.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(yt.a)(e).pipe(se(e=>Lt(function(t,e){return null!==t&&e&&e(new Le(t)),Object(vt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Me(t)),Object(vt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Mt(()=>{const i=e.guards.map(i=>{const o=Ar(i,e.node,n);let s;if(function(t){return t&&er(t.canActivateChild)}(o))s=Ze(o.canActivateChild(r,t));else{if(!er(o))throw new Error("Invalid CanActivateChild guard");s=Ze(o(r,t))}return s.pipe(ve())});return Object(vt.a)(i).pipe(ir())}));return Object(vt.a)(i).pipe(ir())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>Mt(()=>{const i=Ar(r,e,n);let o;if(function(t){return t&&er(t.canActivate)}(i))o=Ze(i.canActivate(e,t));else{if(!er(i))throw new Error("Invalid CanActivate guard");o=Ze(i(e,t))}return o.pipe(ve())}));return Object(vt.a)(i).pipe(ir())}(t,e.route,n))),ve(t=>!0!==t,!0))}(r,o,t,e):Object(vt.a)(n)),Object(Ut.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(be.a)(t=>{if(nr(t.guardsResult)){const e=ze(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Jt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Te(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Fr(t=>{if(t.guards.canActivateChecks.length)return Object(vt.a)(t).pipe(Object(be.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ht(t=>{let n=!1;return Object(vt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(oe.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(vt.a)(t);let o=0;return Object(yt.a)(n).pipe(se(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(vt.a)({});const o={};return Object(yt.a)(i).pipe(Object(oe.a)(i=>function(t,e,n,r){const i=Ar(t,e,r);return Ze(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(be.a)(t=>{o[i]=t}))),ae(1),Object(oe.a)(()=>Object.keys(o).length===i.length?Object(vt.a)(o):Vt.a))}(t._resolve,t,e,r).pipe(Object(Ut.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),kn(t,n).resolve),null)))}(t.route,e,r,i)),Object(be.a)(()=>o++),ae(1),Object(oe.a)(e=>o===n.length?Object(vt.a)(t):Vt.a))})),Object(be.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Te(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(be.a)(t=>{const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Fr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ut.a)(t=>{const e=function(t,e,n){const r=Mn(t,e._root,n?n._root:void 0);return new An(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(be.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Ut.a)(t=>(new Xn(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(be.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Te(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Oe(i))),ne(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=nr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Te(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ae(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Eh){t.reject(Eh)}}var i;return Vt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sr(t),this.config=t.map(cr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Hn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ye(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new zn(n,e,r)}(n);if(o.toRoot())return Hn(e.root,new rn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Gn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Gn(t,t===e.root,0)}const r=Un(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Gn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?$n(s.segmentGroup,s.index,o.commands):Kn(s.segmentGroup,s.index,o.commands);return Hn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=nr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Yb){e=this.malformedUriErrorHandler(Yb,this.urlSerializer,t)}return e}isActive(t,e){if(nr(t))return Xe(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Xe(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.N),r.Sb(an),r.Sb(zr),r.Sb(_),r.Sb(r.s),r.Sb(r.x),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Yr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new bt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Xr(this.skipLocationChange),replaceUrl:Xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qr),r.Lb(jn),r.Tb("tabindex"),r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})(),Zr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new bt.a,this.subscription=t.events.subscribe(t=>{t instanceof Ie&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Xr(this.skipLocationChange),replaceUrl:Xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qr),r.Lb(jn),r.Lb(m))},t.\u0275dir=r.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Rb("href",e.href,r.ic),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function Xr(t){return""===t||!!t}let Jr=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||qe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ti(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(zr),r.Lb(r.Q),r.Lb(r.j),r.Tb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ti{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===jn?this.route:t===zr?this.childContexts:this.parent.get(t,e)}}class ei{}class ni{preload(t,e){return Object(vt.a)(null)}}let ri=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Hr(e,n,e=>t.triggerEvent(new Re(e)),e=>t.triggerEvent(new Pe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(t=>t instanceof Ie),se(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(yt.a)(n).pipe(Object(Pt.a)(),Object(Ut.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(vt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(oe.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Qr),r.Sb(r.x),r.Sb(r.i),r.Sb(r.s),r.Sb(ei))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ii=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ce?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ie&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ue&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ue(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Qr),r.Sb(F),r.Sb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const oi=new r.r("ROUTER_CONFIGURATION"),si=new r.r("ROUTER_FORROOT_GUARD"),ai=[_,{provide:an,useClass:un},{provide:Qr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Qr(null,t,e,n,r,i,s,We(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[an,zr,_,r.s,r.x,r.i,qr,oi,[class{},new r.B],[class{},new r.B]]},zr,{provide:jn,useFactory:function(t){return t.routerState.root},deps:[Qr]},{provide:r.x,useClass:r.K},ri,ni,class{preload(t,e){return e().pipe(ne(()=>Object(vt.a)(null)))}},{provide:oi,useValue:{enableTracing:!1}}];function ui(){return new r.z("Router",Qr)}let ci=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ai,di(e),{provide:si,useFactory:fi,deps:[[Qr,new r.B,new r.J]]},{provide:oi,useValue:n||{}},{provide:m,useFactory:hi,deps:[a,[new r.p(v),new r.B],oi]},{provide:ii,useFactory:li,deps:[Qr,F,oi]},{provide:ei,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ni},{provide:r.z,multi:!0,useFactory:ui},[pi,{provide:r.d,multi:!0,useFactory:gi,deps:[pi]},{provide:yi,useFactory:mi,deps:[pi]},{provide:r.b,multi:!0,useExisting:yi}]]}}static forChild(e){return{ngModule:t,providers:[di(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(si,8),r.Sb(Qr,8))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();function li(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ii(t,e,n)}function hi(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function fi(t){return"guarded"}function di(t){return[{provide:r.a,multi:!0,useValue:t},{provide:qr,multi:!0,useValue:t}]}let pi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new bt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Qr),r=this.injector.get(oi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(vt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(oi),n=this.injector.get(ri),i=this.injector.get(ii),o=this.injector.get(Qr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function gi(t){return t.appInitializer.bind(t)}function mi(t){return t.bootstrapListener.bind(t)}const yi=new r.r("Router Initializer");let vi=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}IrALogin(){this.router.navigate(["/login"])}IrAQuienSoy(){this.router.navigate(["/quien-soy"])}IrARegistro(){this.router.navigate(["/registro"])}IrAJuegos(){this.router.navigate(["/juegos"])}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qr))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-home"]],decls:12,vars:0,consts:[[1,"container-lg","col-8"],["type","button",1,"btn","btn-outline-light","btn-lg","btn-block",3,"click"]],template:function(t,e){1&t&&(r.Mb(0,"br"),r.Mb(1,"br"),r.Mb(2,"br"),r.Ob(3,"div",0),r.Mb(4,"br"),r.Mb(5,"br"),r.Ob(6,"button",1),r.Vb("click",function(){return e.IrAQuienSoy()}),r.mc(7,"Quien soy?"),r.Nb(),r.Mb(8,"br"),r.Mb(9,"br"),r.Ob(10,"button",1),r.Vb("click",function(){return e.IrAJuegos()}),r.mc(11,"Lista de Juegos"),r.Nb(),r.Nb())},styles:[".home[_ngcontent-%COMP%]{margin-top:3%;margin-left:10%;margin-bottom:10%}.boton[_ngcontent-%COMP%]{font-weight:500;color:brown;border-radius:20%;padding:2% 6%}"]}),t})(),bi=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-juegos"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Ob(0,"p"),r.mc(1,"juegos works!"),r.Nb())},styles:[""]}),t})();var wi=n("mrSG"),_i=n("XoHu");function Oi(t,e){return new At.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(yt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Si=new r.r("NgValueAccessor"),Ei={provide:Si,useExisting:Object(r.U)(()=>Ii),multi:!0},Ci=new r.r("CompositionEventMode");let Ii=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(Ci,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Ei])]}),t})();function Ti(t){return null==t||0===t.length}function Ai(t){return null!=t&&"number"==typeof t.length}const xi=new r.r("NgValidators"),ji=new r.r("NgAsyncValidators"),ki=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ni{static min(t){return function(t){return e=>{if(Ti(e.value)||Ti(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Ti(e.value)||Ti(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return Ti(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Ti(t.value)||ki.test(t.value)?null:{email:!0}}(t)}static minLength(t){return Di(t)}static maxLength(t){return function(t){return e=>Ai(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Ri;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ti(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Ui(t)}static composeAsync(t){return Hi(t)}}function Di(t){return e=>Ti(e.value)||!Ai(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Ri(t){return null}function Pi(t){return null!=t}function Li(t){const e=Object(r.rb)(t)?Object(yt.a)(t):t;return Object(r.qb)(e),e}function Vi(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Mi(t,e){return e.map(e=>e(t))}function Fi(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ui(t){if(!t)return null;const e=t.filter(Pi);return 0==e.length?null:function(t){return Vi(Mi(t,e))}}function qi(t){return null!=t?Ui(Fi(t)):null}function Hi(t){if(!t)return null;const e=t.filter(Pi);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(St.a)(e))return Oi(e,null);if(Object(_i.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Oi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Oi(t=1===t.length&&Object(St.a)(t[0])?t[0]:t,null).pipe(Object(Ut.a)(t=>e(...t)))}return Oi(t,null)}(Mi(t,e).map(Li)).pipe(Object(Ut.a)(Vi))}}function Bi(t){return null!=t?Hi(Fi(t)):null}function zi(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gi(t){return t._rawValidators}function Ki(t){return t._rawAsyncValidators}let $i=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qi(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),Wi=(()=>{class t extends $i{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Qi(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})();const Qi=r.Qb(Wi);class Yi extends $i{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zi{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Xi=(()=>{class t extends Zi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Yi,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),Ji=(()=>{class t extends Zi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Wi,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();function to(t,e){ro(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oo(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function eo(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),io(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function no(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ro(t,e,n){const r=Gi(t);null!==e.validator?t.setValidators(zi(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Ki(t);if(null!==e.asyncValidator?t.setAsyncValidators(zi(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();no(e._rawValidators,n),no(e._rawAsyncValidators,n)}}function io(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Gi(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Ki(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};no(e._rawValidators,t),no(e._rawAsyncValidators,t)}return r}function oo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function so(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ao="VALID",uo="INVALID",co="PENDING",lo="DISABLED";function ho(t){return(mo(t)?t.validators:t)||null}function fo(t){return Array.isArray(t)?qi(t):t||null}function po(t,e){return(mo(e)?e.asyncValidators:t)||null}function go(t){return Array.isArray(t)?Bi(t):t||null}function mo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class yo{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=fo(this._rawValidators),this._composedAsyncValidatorFn=go(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ao}get invalid(){return this.status===uo}get pending(){return this.status==co}get disabled(){return this.status===lo}get enabled(){return this.status!==lo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=fo(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=go(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=co,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=lo,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ao,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ao&&this.status!==co||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lo:ao}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=co,this._hasOwnPendingAsyncValidator=!0;const e=Li(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof bo?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof wo&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?lo:this.errors?uo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(co)?co:this._anyControlsHaveStatus(uo)?uo:ao}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class vo extends yo{constructor(t=null,e,n){super(ho(e),po(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){so(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){so(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class bo extends yo{constructor(t,e,n){super(ho(e),po(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof vo?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class wo extends yo{constructor(t,e,n){super(ho(e),po(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof vo?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let _o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Oo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();const So=new r.r("NgModelWithFormControlWarning"),Eo={provide:Wi,useExisting:Object(r.U)(()=>Co)};let Co=(()=>{class t extends Wi{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(io(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return to(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){eo(t.control||null,t,!1),so(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(eo(e||null,t),n instanceof vo&&(to(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){ro(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return io(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ro(this.form,this,!1),this._oldForm&&io(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(xi,10),r.Lb(ji,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Eo]),r.xb,r.yb]}),t})();const Io={provide:Yi,useExisting:Object(r.U)(()=>To)};let To=(()=>{class t extends Yi{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Ii?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Wi,13),r.Lb(xi,10),r.Lb(ji,10),r.Lb(Si,10),r.Lb(So,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Io]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const Ao={provide:xi,useExisting:Object(r.U)(()=>xo),multi:!0};let xo=(()=>{class t{constructor(){this._validator=Ri}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Di("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.zb([Ao]),r.yb]}),t})(),jo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[Oo]]}),t})(),ko=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:So,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[jo]}),t})();var No=n("D0XW");function Do(){return t=>t.lift(new Ro)}class Ro{call(t,e){return e.subscribe(new Po(t))}}class Po extends Et.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Lo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Vo(t,this.compare,this.keySelector))}}class Vo extends Et.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Mo=n("pxpQ"),Fo=n("spgP"),Uo=n("Jgta"),qo=n("zIRd"),Ho=n("390u"),Bo=n("q/0M"),zo=function(t,e){return(zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Go(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ko,$o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wo=Wo||{},Qo=$o||self;function Yo(){}function Zo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Jo="closure_uid_"+(1e9*Math.random()>>>0),ts=0;function es(t,e,n){return t.call.apply(t.bind,arguments)}function ns(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function rs(t,e,n){return(rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?es:ns).apply(null,arguments)}function is(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function os(){return Date.now()}function ss(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function as(){this.j=this.j,this.i=this.i}as.prototype.j=!1,as.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Jo)&&t[Jo]||(t[Jo]=++ts)}(this)},as.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var us=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},cs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ls(t){return Array.prototype.concat.apply([],arguments)}function hs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function fs(t){return/^[\s\xa0]*$/.test(t)}var ds,ps=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gs(t,e){return-1!=t.indexOf(e)}function ms(t,e){return t<e?-1:t>e?1:0}t:{var ys=Qo.navigator;if(ys){var vs=ys.userAgent;if(vs){ds=vs;break t}}ds=""}function bs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ws(t){var e={};for(var n in t)e[n]=t[n];return e}var _s="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Os(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<_s.length;o++)n=_s[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ss(t){return Ss[" "](t),t}Ss[" "]=Yo;var Es,Cs,Is=gs(ds,"Opera"),Ts=gs(ds,"Trident")||gs(ds,"MSIE"),As=gs(ds,"Edge"),xs=As||Ts,js=gs(ds,"Gecko")&&!(gs(ds.toLowerCase(),"webkit")&&!gs(ds,"Edge"))&&!(gs(ds,"Trident")||gs(ds,"MSIE"))&&!gs(ds,"Edge"),ks=gs(ds.toLowerCase(),"webkit")&&!gs(ds,"Edge");function Ns(){var t=Qo.document;return t?t.documentMode:void 0}t:{var Ds="",Rs=(Cs=ds,js?/rv:([^\);]+)(\)|;)/.exec(Cs):As?/Edge\/([\d\.]+)/.exec(Cs):Ts?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Cs):ks?/WebKit\/(\S+)/.exec(Cs):Is?/(?:Version)[ \/]?(\S+)/.exec(Cs):void 0);if(Rs&&(Ds=Rs?Rs[1]:""),Ts){var Ps=Ns();if(null!=Ps&&Ps>parseFloat(Ds)){Es=String(Ps);break t}}Es=Ds}var Ls={};function Vs(t){return function(t,e){var n=Ls;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ps(String(Es)).split("."),r=ps(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ms(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ms(0==s[2].length,0==a[2].length)||ms(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Ms=Qo.document&&Ts&&(Ns()||parseInt(Es,10))||void 0,Fs=!Ts||9<=Number(Ms),Us=Ts&&!Vs("9"),qs=function(){if(!Qo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Qo.addEventListener("test",Yo,e),Qo.removeEventListener("test",Yo,e)}catch(n){}return t}();function Hs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Bs(t,e){if(Hs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(js){t:{try{Ss(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:zs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Hs.prototype.b=function(){this.defaultPrevented=!0},ss(Bs,Hs);var zs={2:"touch",3:"pen",4:"mouse"};Bs.prototype.b=function(){Bs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Us)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Gs="closure_listenable_"+(1e6*Math.random()|0),Ks=0;function $s(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ks,this.Y=this.Z=!1}function Ws(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Qs(t){this.src=t,this.a={},this.b=0}function Ys(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=us(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ws(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Zs(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Qs.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Zs(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new $s(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Xs="closure_lm_"+(1e6*Math.random()|0),Js={};function ta(t,e,n,r,i){if(r&&r.once)return na(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ta(t,e[o],n,r,i);return null}return n=la(n),t&&t[Gs]?t.va(e,n,Xo(r)?!!r.capture:!!r,i):ea(t,e,n,!1,r,i)}function ea(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Xo(i)?!!i.capture:!!i;if(s&&!Fs)return null;var a=ua(t);if(a||(t[Xs]=a=new Qs(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=aa,e=Fs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qs||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(oa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function na(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)na(t,e[o],n,r,i);return null}return n=la(n),t&&t[Gs]?t.wa(e,n,Xo(r)?!!r.capture:!!r,i):ea(t,e,n,!0,r,i)}function ra(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ra(t,e[o],n,r,i);else r=Xo(r)?!!r.capture:!!r,n=la(n),t&&t[Gs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Zs(o=t.a[e],n,r,i))&&(Ws(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ua(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Zs(e,n,r,i)),(n=-1<t?e[t]:null)&&ia(n))}function ia(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Gs])Ys(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(oa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ua(e))?(Ys(n,t),0==n.b&&(n.src=null,e[Xs]=null)):Ws(t)}}}function oa(t){return t in Js?Js[t]:Js[t]="on"+t}function sa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ia(t),n.call(r,e)}function aa(t,e){if(t.Y)return!0;if(!Fs){if(!e)t:{e=["window","event"];for(var n=Qo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return sa(t,e=new Bs(e,this))}return sa(t,new Bs(e,this))}function ua(t){return(t=t[Xs])instanceof Qs?t:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function la(t){return"function"==typeof t?t:(t[ca]||(t[ca]=function(e){return t.handleEvent(e)}),t[ca])}function ha(){as.call(this),this.c=new Qs(this),this.J=this,this.C=null}function fa(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Hs(e,t);else if(e instanceof Hs)e.target=e.target||t;else{var i=e;Os(e=new Hs(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=da(s,r,!0,e)&&i}if(i=da(s=e.a=t,r,!0,e)&&i,i=da(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=da(s=e.a=n[o],r,!1,e)&&i}function da(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Ys(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ss(ha,as),ha.prototype[Gs]=!0,(Ko=ha.prototype).addEventListener=function(t,e,n,r){ta(this,t,e,n,r)},Ko.removeEventListener=function(t,e,n,r){ra(this,t,e,n,r)},Ko.G=function(){if(ha.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ws(n[r]);delete e.a[t],e.b--}}this.C=null},Ko.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ko.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var pa=Qo.JSON.stringify;function ga(){this.b=this.a=null}var ma,ya=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ba},function(t){t.reset()});function va(){var t=Sa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ba(){this.next=this.b=this.a=null}function wa(t){Qo.setTimeout(function(){throw t},0)}function _a(t,e){ma||function(){var t=Qo.Promise.resolve(void 0);ma=function(){t.then(Ea)}}(),Oa||(ma(),Oa=!0),Sa.add(t,e)}ga.prototype.add=function(t,e){var n=ya.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ba.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ba.prototype.reset=function(){this.next=this.b=this.a=null};var Oa=!1,Sa=new ga;function Ea(){for(var t;t=va();){try{t.a.call(t.b)}catch(n){wa(n)}var e=ya;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Oa=!1}function Ca(t,e){ha.call(this),this.b=t||1,this.a=e||Qo,this.f=rs(this.Za,this),this.g=os()}function Ia(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ta(t,e,n){if("function"==typeof t)n&&(t=rs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=rs(t.handleEvent,t)}return 2147483647<Number(e)?-1:Qo.setTimeout(t,e||0)}function Aa(t){t.a=Ta(function(){t.a=null,t.c&&(t.c=!1,Aa(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ss(Ca,ha),(Ko=Ca.prototype).aa=!1,Ko.M=null,Ko.Za=function(){if(this.aa){var t=os()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),fa(this,"tick"),this.aa&&(Ia(this),this.start()))}},Ko.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=os())},Ko.G=function(){Ca.X.G.call(this),Ia(this),delete this.a};var xa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}zo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Aa(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Qo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(as);function ja(t){as.call(this),this.b=t,this.a={}}ss(ja,as);var ka=[];function Na(t,e,n,r){Array.isArray(n)||(n&&(ka[0]=n.toString()),n=ka);for(var i=0;i<n.length;i++){var o=ta(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Da(t){bs(t.a,function(t,e){this.a.hasOwnProperty(e)&&ia(t)},t),t.a={}}function Ra(){this.a=!0}function Pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return pa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ja.prototype.G=function(){ja.X.G.call(this),Da(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ra.prototype.info=function(){};var La={},Va=null;function Ma(){return Va=Va||new ha}function Fa(t){Hs.call(this,La.Fa,t)}function Ua(t){var e=Ma();fa(e,new Fa(e,t))}function qa(t,e){Hs.call(this,La.STAT_EVENT,t),this.stat=e}function Ha(t){var e=Ma();fa(e,new qa(e,t))}function Ba(t){Hs.call(this,La.Ga,t)}function za(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Qo.setTimeout(function(){t()},e)}La.Fa="serverreachability",ss(Fa,Hs),La.STAT_EVENT="statevent",ss(qa,Hs),La.Ga="timingevent",ss(Ba,Hs);var Ga={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ka={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function $a(){}function Wa(){}$a.prototype.a=null;var Qa,Ya={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Za(){Hs.call(this,"d")}function Xa(){Hs.call(this,"c")}function Ja(){}function tu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ja(this),this.P=eu,this.R=new Ca(t=xs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ss(Za,Hs),ss(Xa,Hs),ss(Ja,$a),Qa=new Ja;var eu=45e3,nu={},ru={};function iu(t,e,n){t.H=1,t.i=Iu(wu(e)),t.j=n,t.I=!0,ou(t,null)}function ou(t,e){t.u=os(),uu(t),t.l=wu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Fu(n.b,"t",r),t.D=0,t.a=Dc(t.g,t.g.C?e:null),0<t.O&&(t.F=new xa(rs(t.Ca,t,t.a),t.O)),Na(t.J,t.a,"readystatechange",t.Xa),e=t.B?ws(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ua(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function su(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=au(t,n);if(i==ru){4==e&&(t.h=4,Ha(14),r=!1),Pa(t.c,t.f,null,"[Incomplete Response]");break}if(i==nu){t.h=4,Ha(15),Pa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Pa(t.c,t.f,i,null),du(t,i)}4==e&&0==n.length&&(t.h=1,Ha(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cc(e),e.F=!0,Ha(11))):(Pa(t.c,t.f,n,"[Invalid Chunked Response]"),fu(t),hu(t))}function au(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ru:(n=Number(e.substring(n,r)),isNaN(n)?nu:(r+=1)+n>e.length?ru:(e=e.substr(r,n),t.D=r+n,e))}function uu(t){t.T=os()+t.P,cu(t,t.P)}function cu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=za(rs(t.Va,t),e)}function lu(t){t.o&&(Qo.clearTimeout(t.o),t.o=null)}function hu(t){0==t.g.v||t.A||Ac(t.g,t)}function fu(t){lu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ia(t.R),Da(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function du(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ku(n.b,t)))if(n.I=t.N,!t.C&&Ku(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(gb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Tc(n),mc(n)}Ec(n),Ha(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=za(rs(n.Sa,n),6e3));if(1>=Gu(n.b)&&n.ea){try{n.ea()}catch(gb){}n.ea=void 0}}else jc(n,11)}else if((t.C||n.a==t)&&Tc(n),!fs(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(gs(l,"spdy")||gs(l,"quic")||gs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&($u(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Cu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=os()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Nc(u,u.C?u.ga:null,u.fa),d.C){Wu(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(lu(p),uu(p)),u.a=d}else Sc(u);0<n.g.length&&bc(n)}else"stop"!=i[0]&&"close"!=i[0]||jc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?jc(n,7):gc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ua(4)}catch(gb){}}function pu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zo(t)||"string"==typeof t)cs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Zo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Zo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function gu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof gu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function mu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];yu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)yu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function yu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ko=tu.prototype).setTimeout=function(t){this.P=t},Ko.Xa=function(t){t=t.target;var e=this.F;e&&3==hc(t)?e.f():this.Ca(t)},Ko.Ca=function(t){try{if(t==this.a)t:{var e=hc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!xs&&!this.a.$())){this.A||4!=e||7==n||Ua(8==n||0>=r?3:2),lu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fs(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Ha(12),fu(this),hu(this);break t}Pa(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,du(this,u)}this.I?(su(this,e,o),xs&&this.b&&3==e&&(Na(this.J,this.R,"tick",this.Wa),this.R.start())):(Pa(this.c,this.f,o,null),du(this,o)),4==e&&fu(this),this.b&&!this.A&&(4==e?Ac(this.g,this):(this.b=!1,uu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ha(12)):(this.h=0,Ha(13)),fu(this),hu(this)}}}catch(c){}},Ko.Wa=function(){if(this.a){var t=hc(this.a),e=this.a.$();this.D<e.length&&(lu(this),su(this,t,e),this.b&&4!=t&&uu(this))}},Ko.cancel=function(){this.A=!0,fu(this)},Ko.Va=function(){this.o=null;var t=os();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ua(3),Ha(17)),fu(this),this.h=2,hu(this)):cu(this,this.T-t)},(Ko=gu.prototype).K=function(){mu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ko.L=function(){return mu(this),this.a.concat()},Ko.get=function(t,e){return yu(this.b,t)?this.b[t]:e},Ko.set=function(t,e){yu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ko.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var vu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof bu){this.a=void 0!==e?e:t.a,_u(this,t.f),this.j=t.j,Ou(this,t.c),Su(this,t.h),this.g=t.g,e=t.b;var n=new Pu;n.c=e.c,e.a&&(n.a=new gu(e.a),n.b=e.b),Eu(this,n),this.i=t.i}else t&&(n=String(t).match(vu))?(this.a=!!e,_u(this,n[1]||"",!0),this.j=Tu(n[2]||""),Ou(this,n[3]||"",!0),Su(this,n[4]),this.g=Tu(n[5]||"",!0),Eu(this,n[6]||"",!0),this.i=Tu(n[7]||"")):(this.a=!!e,this.b=new Pu(null,this.a))}function wu(t){return new bu(t)}function _u(t,e,n){t.f=n?Tu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ou(t,e,n){t.c=n?Tu(e,!0):e}function Su(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Eu(t,e,n){e instanceof Pu?(t.b=e,function(t,e){e&&!t.f&&(Lu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Vu(this,e),Fu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Au(e,Du)),t.b=new Pu(e,t.a))}function Cu(t,e,n){t.b.set(e,n)}function Iu(t){return Cu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^os()).toString(36)),t}function Tu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Au(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,xu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}bu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Au(e,ju,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Au(e,ju,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Au(n,"/"==n.charAt(0)?Nu:ku,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Au(n,Ru)),t.join("")};var ju=/[#\/\?@]/g,ku=/[#\?:]/g,Nu=/[#\?]/g,Du=/[#\?@]/g,Ru=/#/g;function Pu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Lu(t){t.a||(t.a=new gu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Vu(t,e){Lu(t),e=Uu(t,e),yu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,yu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&mu(t)))}function Mu(t,e){return Lu(t),e=Uu(t,e),yu(t.a.b,e)}function Fu(t,e,n){Vu(t,e),0<n.length&&(t.c=null,t.a.set(Uu(t,e),hs(n)),t.b+=n.length)}function Uu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ko=Pu.prototype).add=function(t,e){Lu(this),this.c=null,t=Uu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ko.forEach=function(t,e){Lu(this),this.a.forEach(function(n,r){cs(n,function(n){t.call(e,n,r,this)},this)},this)},Ko.L=function(){Lu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ko.K=function(t){Lu(this);var e=[];if("string"==typeof t)Mu(this,t)&&(e=ls(e,this.a.get(Uu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ls(e,t[n])}return e},Ko.set=function(t,e){return Lu(this),this.c=null,Mu(this,t=Uu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ko.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ko.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var qu=function(){return function(t,e){this.b=t,this.a=e}}();function Hu(t){this.g=t||Bu,t=Qo.PerformanceNavigationTiming?0<(t=Qo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Qo.ia&&Qo.ia.ya&&Qo.ia.ya()&&Qo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Bu=10;function zu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Gu(t){return t.b?1:t.a?t.a.size:0}function Ku(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function $u(t,e){t.a?t.a.add(e):t.b=e}function Wu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Qu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Go(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return hs(t.c)}function Yu(){}function Zu(){this.a=new Yu}function Xu(t,e,n){var r=n||"";try{pu(t,function(t,n){var i=t;Xo(t)&&(i=pa(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Yb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Yb}}function Ju(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Hu.prototype.cancel=function(){var t,e;if(this.c=Qu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Go(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Yu.prototype.stringify=function(t){return Qo.JSON.stringify(t,void 0)},Yu.prototype.parse=function(t){return Qo.JSON.parse(t,void 0)};var tc=Qo.JSON.parse;function ec(t){ha.call(this),this.headers=new gu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=nc,this.D=this.F=!1}ss(ec,ha);var nc="",rc=/^https?$/i,ic=["POST","PUT"];function oc(t){return"content-type"==t.toLowerCase()}function sc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ac(t),cc(t)}function ac(t){t.u||(t.u=!0,fa(t,"complete"),fa(t,"error"))}function uc(t){if(t.b&&void 0!==Wo&&(!t.s[1]||4!=hc(t)||2!=t.W()))if(t.l&&4==hc(t))Ta(t.za,0,t);else if(fa(t,"readystatechange"),4==hc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(vu)[1]||null;if(!o&&Qo.self&&Qo.self.location){var s=Qo.self.location.protocol;o=s.substr(0,s.length-1)}i=!rc.test(o?o.toLowerCase():"")}e=i}if(e)fa(t,"complete"),fa(t,"success");else{t.h=6;try{var a=2<hc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",ac(t)}}finally{cc(t)}}}function cc(t,e){if(t.a){lc(t);var n=t.a,r=t.s[0]?Yo:null;t.a=null,t.s=null,e||fa(t,"ready");try{n.onreadystatechange=r}catch(Yb){}}}function lc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Qo.clearTimeout(t.m),t.m=null)}function hc(t){return t.a?t.a.readyState:0}function fc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return bs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Cu(t,e,n))}function dc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pc(t){this.pa=0,this.g=[],this.c=new Ra,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=dc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=dc("baseRetryDelayMs",5e3,t),this.Ra=dc("retryDelaySeedMs",1e4,t),this.Ma=dc("forwardChannelMaxRetries",2,t),this.ma=dc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Hu(t&&t.concurrentRequestLimit),this.ka=new Zu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function gc(t){if(yc(t),3==t.v){var e=t.R++,n=wu(t.B);Cu(n,"SID",t.J),Cu(n,"RID",e),Cu(n,"TYPE","terminate"),_c(t,n),(e=new tu(t,t.c,e,void 0)).H=2,e.i=Iu(wu(n)),n=!1,Qo.navigator&&Qo.navigator.sendBeacon&&(n=Qo.navigator.sendBeacon(e.i.toString(),"")),!n&&Qo.Image&&((new Image).src=e.i,n=!0),n||(e.a=Dc(e.g,null),e.a.ba(e.i)),e.u=os(),uu(e)}kc(t)}function mc(t){t.a&&(Cc(t),t.a.cancel(),t.a=null)}function yc(t){mc(t),t.j&&(Qo.clearTimeout(t.j),t.j=null),Tc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Qo.clearTimeout(t.h),t.h=null)}function vc(t,e){t.g.push(new qu(t.Oa++,e)),3==t.v&&bc(t)}function bc(t){zu(t.b)||t.h||(t.h=!0,_a(t.Ba,t),t.u=0)}function wc(t,e){var n;n=e?e.f:t.R++;var r=wu(t.B);Cu(r,"SID",t.J),Cu(r,"RID",n),Cu(r,"AID",t.P),_c(t,r),t.i&&t.l&&fc(r,t.i,t.l),n=new tu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Oc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),$u(t.b,n),iu(n,r,e)}function _c(t,e){t.f&&pu({},function(t,n){Cu(e,n,t)})}function Oc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?rs(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Xu(l,s,"req"+c+"_")}catch(ll){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Sc(t){t.a||t.j||(t.T=1,_a(t.Aa,t),t.o=0)}function Ec(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=za(rs(t.Aa,t),xc(t,t.o)),t.o++,0))}function Cc(t){null!=t.s&&(Qo.clearTimeout(t.s),t.s=null)}function Ic(t){t.a=new tu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=wu(t.la);Cu(e,"RID","rpc"),Cu(e,"SID",t.J),Cu(e,"CI",t.H?"0":"1"),Cu(e,"AID",t.P),_c(t,e),Cu(e,"TYPE","xmlhttp"),t.i&&t.l&&fc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Iu(wu(e)),n.j=null,n.I=!0,ou(n,t)}function Tc(t){null!=t.m&&(Qo.clearTimeout(t.m),t.m=null)}function Ac(t,e){var n=null;if(t.a==e){Tc(t),Cc(t),t.a=null;var r=2}else{if(!Ku(t.b,e))return;n=e.s,Wu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=os()-e.u;var i=t.u;fa(r=Ma(),new Ba(r,n,e,i)),bc(t)}else Sc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Gu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=za(rs(t.Ba,t,e),xc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ec(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:jc(t,5);break;case 4:jc(t,10);break;case 3:jc(t,6);break;default:jc(t,2)}}function xc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function jc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=rs(t.Ya,t);n||(n=new bu("//www.google.com/images/cleardot.gif"),Qo.location&&"http"==Qo.location.protocol||_u(n,"https"),Iu(n)),function(t,e){var n=new Ra;if(Qo.Image){var r=new Image;r.onload=is(Ju,n,r,"TestLoadImage: loaded",!0,e),r.onerror=is(Ju,n,r,"TestLoadImage: error",!1,e),r.onabort=is(Ju,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=is(Ju,n,r,"TestLoadImage: timeout",!1,e),Qo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ha(2);t.v=0,t.f&&t.f.ra(e),kc(t),yc(t)}function kc(t){t.v=0,t.I=-1,t.f&&(0==Qu(t.b).length&&0==t.g.length||(t.b.c.length=0,hs(t.g),t.g.length=0),t.f.qa())}function Nc(t,e,n){var r=function(t){return t instanceof bu?wu(t):new bu(t,void 0)}(n);if(""!=r.c)e&&Ou(r,e+"."+r.c),Su(r,r.h);else{var i=Qo.location;r=function(t,e,n,r){var i=new bu(null,void 0);return t&&_u(i,t),e&&Ou(i,e),n&&Su(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&bs(t.V,function(t,e){Cu(r,e,t)}),n=t.na,(e=t.A)&&n&&Cu(r,e,n),Cu(r,"VER",t.ha),_c(t,r),r}function Dc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ec(t.Na)).F=t.C,e}function Rc(){}function Pc(){if(Ts&&!(10<=Number(Ms)))throw Error("Environmental error: no available transport.")}function Lc(t,e){ha.call(this),this.a=new pc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!fs(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Fc(this)}function Vc(t){Za.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Mc(){Xa.call(this),this.status=1}function Fc(t){this.a=t}(Ko=ec.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Qa),this.a.onreadystatechange=rs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void sc(this,o)}t=n||"";var i=new gu(this.headers);r&&pu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=oc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Qo.FormData&&t instanceof Qo.FormData,!(0<=us(ic,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{lc(this),0<this.o&&((this.D=function(t){return Ts&&Vs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=rs(this.xa,this)):this.m=Ta(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){sc(this,o)}},Ko.xa=function(){void 0!==Wo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,fa(this,"timeout"),this.abort(8))},Ko.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,fa(this,"complete"),fa(this,"abort"),cc(this))},Ko.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),cc(this,!0)),ec.X.G.call(this)},Ko.za=function(){this.j||(this.A||this.l||this.g?uc(this):this.Ua())},Ko.Ua=function(){uc(this)},Ko.W=function(){try{return 2<hc(this)?this.a.status:-1}catch(Cs){return-1}},Ko.$=function(){try{return this.a?this.a.responseText:""}catch(Cs){return""}},Ko.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),tc(e)}},Ko.ua=function(){return this.h},Ko.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ko=pc.prototype).ha=8,Ko.v=1,Ko.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new tu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Os(r=ws(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Oc(this,n,e),Cu(i=wu(this.B),"RID",t),Cu(i,"CVER",22),this.A&&Cu(i,"X-HTTP-Session-Id",this.A),_c(this,i),this.i&&r&&fc(i,this.i,r),$u(this.b,n),this.Ia&&Cu(i,"TYPE","init"),this.da?(Cu(i,"$req",e),Cu(i,"SID","null"),n.U=!0,iu(n,i,null)):iu(n,i,e),this.v=2}}else 3==this.v&&(t?wc(this,t):0==this.g.length||zu(this.b)||wc(this))},Ko.Aa=function(){if(this.j=null,Ic(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=za(rs(this.Ta,this),t)}},Ko.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ha(10),mc(this),Ic(this))},Ko.Sa=function(){null!=this.m&&(this.m=null,mc(this),Ec(this),Ha(19))},Ko.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ha(2)):(this.c.info("Failed to ping google.com"),Ha(1))},(Ko=Rc.prototype).ta=function(){},Ko.sa=function(){},Ko.ra=function(){},Ko.qa=function(){},Ko.Ja=function(){},Pc.prototype.a=function(t,e){return new Lc(t,e)},ss(Lc,ha),Lc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ha(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Nc(t,null,t.fa),bc(t)},Lc.prototype.close=function(){gc(this.a)},Lc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,vc(this.a,e)}else this.l?((e={}).__data__=pa(t),vc(this.a,e)):vc(this.a,t)},Lc.prototype.G=function(){this.a.f=null,delete this.f,gc(this.a),delete this.a,Lc.X.G.call(this)},ss(Vc,Za),ss(Mc,Xa),ss(Fc,Rc),Fc.prototype.ta=function(){fa(this.a,"a")},Fc.prototype.sa=function(t){fa(this.a,new Vc(t))},Fc.prototype.ra=function(t){fa(this.a,new Mc(t))},Fc.prototype.qa=function(){fa(this.a,"b")},Pc.prototype.createWebChannel=Pc.prototype.a,Lc.prototype.send=Lc.prototype.h,Lc.prototype.open=Lc.prototype.g,Lc.prototype.close=Lc.prototype.close,Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,Ka.COMPLETE="complete",Wa.EventType=Ya,Ya.OPEN="a",Ya.CLOSE="b",Ya.ERROR="c",Ya.MESSAGE="d",ha.prototype.listen=ha.prototype.va,ec.prototype.listenOnce=ec.prototype.wa,ec.prototype.getLastError=ec.prototype.Qa,ec.prototype.getLastErrorCode=ec.prototype.ua,ec.prototype.getStatus=ec.prototype.W,ec.prototype.getResponseJson=ec.prototype.Pa,ec.prototype.getResponseText=ec.prototype.$,ec.prototype.send=ec.prototype.ba;var Uc=Ga,qc=Ka,Hc=La,Bc=Wa,zc=ec,Gc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Gc.o=-1;var Kc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$c=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(wi.c)(e,t),e}(Error),Wc=new Bo.b("@firebase/firestore");function Qc(){return Wc.logLevel}function Yc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wc.logLevel<=Bo.a.DEBUG){var r=e.map(Jc);Wc.debug.apply(Wc,Object(wi.f)(["Firestore (8.4.0): "+t],r))}}function Zc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wc.logLevel<=Bo.a.ERROR){var r=e.map(Jc);Wc.error.apply(Wc,Object(wi.f)(["Firestore (8.4.0): "+t],r))}}function Xc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wc.logLevel<=Bo.a.WARN){var r=e.map(Jc);Wc.warn.apply(Wc,Object(wi.f)(["Firestore (8.4.0): "+t],r))}}function Jc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Yb){return t}}function tl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw Zc(e),new Error(e)}function el(t,e){t||tl()}function nl(t,e){return t}function rl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var il=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=rl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ol(t,e){return t<e?-1:t>e?1:0}function sl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function al(t){return t+"\0"}var ul=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $c(Kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $c(Kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $c(Kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $c(Kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ol(this.nanoseconds,t.nanoseconds):ol(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),cl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ul(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function ll(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var dl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&tl(),void 0===n?n=t.length-e:n>t.length-e&&tl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new $c(Kc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(dl),gl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ml=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return gl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new $c(Kc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new $c(Kc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new $c(Kc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $c(Kc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(dl),yl=function(){function t(t){this.fields=t,t.sort(ml.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return sl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),vl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ol(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();vl.EMPTY_BYTE_STRING=new vl("");var bl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wl(t){if(el(!!t),"string"==typeof t){var e=0,n=bl.exec(t);if(el(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_l(t.seconds),nanos:_l(t.nanos)}}function _l(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ol(t){return"string"==typeof t?vl.fromBase64String(t):vl.fromUint8Array(t)}function Sl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function El(t){var e=t.mapValue.fields.__previous_value__;return Sl(e)?El(e):e}function Cl(t){var e=wl(t.mapValue.fields.__local_write_time__.timestampValue);return new ul(e.seconds,e.nanos)}function Il(t){return null==t}function Tl(t){return 0===t&&1/t==-1/0}function Al(t){return"number"==typeof t&&Number.isInteger(t)&&!Tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var xl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(pl.fromString(e))},t.fromName=function(e){return new t(pl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===pl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return pl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new pl(e.slice()))},t}();function jl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sl(t)?4:10:tl()}function kl(t,e){var n=jl(t);if(n!==jl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=wl(t.timestampValue),r=wl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ol(t.bytesValue).isEqual(Ol(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return _l(t.geoPointValue.latitude)===_l(e.geoPointValue.latitude)&&_l(t.geoPointValue.longitude)===_l(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return _l(t.integerValue)===_l(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=_l(t.doubleValue),r=_l(e.doubleValue);return n===r?Tl(n)===Tl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],kl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ll(n)!==ll(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kl(n[i],r[i])))return!1;return!0}(t,e);default:return tl()}}function Nl(t,e){return void 0!==(t.values||[]).find(function(t){return kl(t,e)})}function Dl(t,e){var n=jl(t),r=jl(e);if(n!==r)return ol(n,r);switch(n){case 0:return 0;case 1:return ol(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=_l(t.integerValue||t.doubleValue),r=_l(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rl(t.timestampValue,e.timestampValue);case 4:return Rl(Cl(t),Cl(e));case 5:return ol(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ol(t),r=Ol(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ol(n[i],r[i]);if(0!==o)return o}return ol(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ol(_l(t.latitude),_l(e.latitude));return 0!==n?n:ol(_l(t.longitude),_l(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Dl(n[i],r[i]);if(o)return o}return ol(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ol(r[s],o[s]);if(0!==a)return a;var u=Dl(n[r[s]],i[o[s]]);if(0!==u)return u}return ol(r.length,o.length)}(t.mapValue,e.mapValue);default:throw tl()}}function Rl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ol(t,e);var n=wl(t),r=wl(e),i=ol(n.seconds,r.seconds);return 0!==i?i:ol(n.nanos,r.nanos)}function Pl(t){return Ll(t)}function Ll(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=wl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ol(t.bytesValue).toBase64():"referenceValue"in t?xl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ll(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ll(t.fields[o])}return e+"}"}(t.mapValue):tl();var e}function Vl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ml(t){return!!t&&"integerValue"in t}function Fl(t){return!!t&&"arrayValue"in t}function Ul(t){return!!t&&"nullValue"in t}function ql(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hl(t){return!!t&&"mapValue"in t}var Bl=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(ml.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return kl(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===jl(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=Hl(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(ml.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Hl(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function zl(t){var e=[];return hl(t.fields||{},function(t,n){var r=new ml([t]);if(Hl(n)){var i=zl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new yl(e)}var Gl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,cl.min(),Bl.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Bl.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Bl.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Bl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Bl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Kl=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function $l(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Kl(t,e,n,r,i,o,s)}function Wl(t){var e=nl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Pl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Il(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ah(e.startAt)),e.endAt&&(n+="|ub:",n+=ah(e.endAt)),e.h=n}return e.h}function Ql(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ch(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!kl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hh(t.startAt,e.startAt)&&hh(t.endAt,e.endAt)}function Yl(t){return xl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Zl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(wi.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Xl(t,n,r):"array-contains"===n?new nh(t,r):"in"===n?new rh(t,r):"not-in"===n?new ih(t,r):"array-contains-any"===n?new oh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Jl(t,n):new th(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Dl(e,this.value)):null!==e&&jl(this.value)===jl(e)&&this.m(Dl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return tl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Xl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=xl.fromName(r.referenceValue),i}return Object(wi.c)(e,t),e.prototype.matches=function(t){var e=xl.comparator(t.key,this.key);return this.m(e)},e}(Zl),Jl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=eh(0,n),r}return Object(wi.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Zl),th=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=eh(0,n),r}return Object(wi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Zl);function eh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return xl.fromName(t.referenceValue)})}var nh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(wi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Fl(e)&&Nl(e.arrayValue,this.value)},e}(Zl),rh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(wi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Nl(this.value.arrayValue,e)},e}(Zl),ih=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(wi.c)(e,t),e.prototype.matches=function(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Nl(this.value.arrayValue,e)},e}(Zl),oh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(wi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Fl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Nl(e.value.arrayValue,t)})},e}(Zl),sh=function(t,e){this.position=t,this.before=e};function ah(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Pl(t)}).join(",")}var uh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ch(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function lh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?xl.comparator(xl.fromName(s.referenceValue),n.key):Dl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function hh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!kl(t.position[n],e.position[n]))return!1;return!0}var fh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function dh(t,e,n,r,i,o,s,a){return new fh(t,e,n,r,i,o,s,a)}function ph(t){return new fh(t)}function gh(t){return!Il(t.limit)&&"F"===t.limitType}function mh(t){return!Il(t.limit)&&"L"===t.limitType}function yh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function bh(t){return null!==t.collectionGroup}function wh(t){var e=nl(t);if(null===e.p){e.p=[];var n=vh(e),r=yh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new uh(n)),e.p.push(new uh(ml.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new uh(ml.keyField(),u))}}}return e.p}function _h(t){var e=nl(t);if(!e.T)if("F"===e.limitType)e.T=$l(e.path,e.collectionGroup,wh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=wh(e);r<i.length;r++){var o=i[r];n.push(new uh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new sh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new sh(e.startAt.position,!e.startAt.before):null;e.T=$l(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Oh(t,e,n){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sh(t,e){return Ql(_h(t),_h(e))&&t.limitType===e.limitType}function Eh(t){return Wl(_h(t))+"|lt:"+t.limitType}function Ch(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Pl(e.value);var e}).join(", ")+"]"),Il(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ah(t.startAt)),t.endAt&&(e+=", endAt: "+ah(t.endAt)),"Target("+e+")"}(_h(t))+"; limitType="+t.limitType+")"}function Ih(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):xl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!lh(t.startAt,wh(t),e)||t.endAt&&lh(t.endAt,wh(t),e))}(t,e)}function Th(t){return function(e,n){for(var r=!1,i=0,o=wh(t);i<o.length;i++){var s=o[i],a=Ah(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ah(t,e,n){var r=t.field.isKeyField()?xl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Dl(r,i):tl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tl()}}function xh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tl(e)?"-0":e}}function jh(t){return{integerValue:""+t}}function kh(t,e){return Al(e)?jh(e):xh(t,e)}var Nh=function(){this._=void 0};function Dh(t,e,n){return t instanceof Lh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Vh?Mh(t,e):t instanceof Fh?Uh(t,e):function(t,e){var n=Ph(t,e),r=Hh(n)+Hh(t.A);return Ml(n)&&Ml(t.A)?jh(r):xh(t.R,r)}(t,e)}function Rh(t,e,n){return t instanceof Vh?Mh(t,e):t instanceof Fh?Uh(t,e):n}function Ph(t,e){return t instanceof qh?Ml(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Lh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wi.c)(e,t),e}(Nh),Vh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wi.c)(e,t),e}(Nh);function Mh(t,e){for(var n=Bh(e),r=function(t){n.some(function(e){return kl(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wi.c)(e,t),e}(Nh);function Uh(t,e){for(var n=Bh(e),r=function(t){n=n.filter(function(e){return!kl(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var qh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(wi.c)(e,t),e}(Nh);function Hh(t){return _l(t.integerValue||t.doubleValue)}function Bh(t){return Fl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var zh=function(t,e){this.field=t,this.transform=e},Gh=function(t,e){this.version=t,this.transformResults=e},Kh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $h(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Wh=function(){};function Qh(t,e,n){t instanceof tf?function(t,e,n){var r=t.value.clone(),i=rf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ef?function(t,e,n){if($h(t.precondition,e)){var r=rf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(nf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Yh(t,e,n){t instanceof tf?function(t,e,n){if($h(t.precondition,e)){var r=t.value.clone(),i=of(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Jh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ef?function(t,e,n){if($h(t.precondition,e)){var r=of(t.fieldTransforms,n,e),i=e.data;i.setAll(nf(t)),i.setAll(r),e.convertToFoundDocument(Jh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){$h(t.precondition,e)&&e.convertToNoDocument(cl.min())}(t,e)}function Zh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Ph(o.transform,s||null);null!=a&&(null==n&&(n=Bl.empty()),n.set(o.field,a))}return n||null}function Xh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&sl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Vh&&e instanceof Vh||t instanceof Fh&&e instanceof Fh?sl(t.elements,e.elements,kl):t instanceof qh&&e instanceof qh?kl(t.A,e.A):t instanceof Lh&&e instanceof Lh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Jh(t){return t.isFoundDocument()?t.version:cl.min()}var tf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(wi.c)(e,t),e}(Wh),ef=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(wi.c)(e,t),e}(Wh);function nf(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function rf(t,e,n){var r=new Map;el(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Rh(s,a,n[i]))}return r}function of(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Dh(a,u,e))}return r}var sf,af,uf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(wi.c)(e,t),e}(Wh),cf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(wi.c)(e,t),e}(Wh),lf=function(t){this.count=t};function hf(t){switch(t){case Kc.OK:return tl();case Kc.CANCELLED:case Kc.UNKNOWN:case Kc.DEADLINE_EXCEEDED:case Kc.RESOURCE_EXHAUSTED:case Kc.INTERNAL:case Kc.UNAVAILABLE:case Kc.UNAUTHENTICATED:return!1;case Kc.INVALID_ARGUMENT:case Kc.NOT_FOUND:case Kc.ALREADY_EXISTS:case Kc.PERMISSION_DENIED:case Kc.FAILED_PRECONDITION:case Kc.ABORTED:case Kc.OUT_OF_RANGE:case Kc.UNIMPLEMENTED:case Kc.DATA_LOSS:return!0;default:return tl()}}function ff(t){if(void 0===t)return Zc("GRPC error has no .code"),Kc.UNKNOWN;switch(t){case sf.OK:return Kc.OK;case sf.CANCELLED:return Kc.CANCELLED;case sf.UNKNOWN:return Kc.UNKNOWN;case sf.DEADLINE_EXCEEDED:return Kc.DEADLINE_EXCEEDED;case sf.RESOURCE_EXHAUSTED:return Kc.RESOURCE_EXHAUSTED;case sf.INTERNAL:return Kc.INTERNAL;case sf.UNAVAILABLE:return Kc.UNAVAILABLE;case sf.UNAUTHENTICATED:return Kc.UNAUTHENTICATED;case sf.INVALID_ARGUMENT:return Kc.INVALID_ARGUMENT;case sf.NOT_FOUND:return Kc.NOT_FOUND;case sf.ALREADY_EXISTS:return Kc.ALREADY_EXISTS;case sf.PERMISSION_DENIED:return Kc.PERMISSION_DENIED;case sf.FAILED_PRECONDITION:return Kc.FAILED_PRECONDITION;case sf.ABORTED:return Kc.ABORTED;case sf.OUT_OF_RANGE:return Kc.OUT_OF_RANGE;case sf.UNIMPLEMENTED:return Kc.UNIMPLEMENTED;case sf.DATA_LOSS:return Kc.DATA_LOSS;default:return tl()}}(af=sf||(sf={}))[af.OK=0]="OK",af[af.CANCELLED=1]="CANCELLED",af[af.UNKNOWN=2]="UNKNOWN",af[af.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",af[af.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",af[af.NOT_FOUND=5]="NOT_FOUND",af[af.ALREADY_EXISTS=6]="ALREADY_EXISTS",af[af.PERMISSION_DENIED=7]="PERMISSION_DENIED",af[af.UNAUTHENTICATED=16]="UNAUTHENTICATED",af[af.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",af[af.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",af[af.ABORTED=10]="ABORTED",af[af.OUT_OF_RANGE=11]="OUT_OF_RANGE",af[af.UNIMPLEMENTED=12]="UNIMPLEMENTED",af[af.INTERNAL=13]="INTERNAL",af[af.UNAVAILABLE=14]="UNAVAILABLE",af[af.DATA_LOSS=15]="DATA_LOSS";var df=function(){function t(t,e){this.comparator=t,this.root=e||gf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new pf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new pf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new pf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new pf(this.root,t,this.comparator,!0)},t}(),pf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),gf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw tl();if(this.right.isRed())throw tl();var t=this.left.check();if(t!==this.right.check())throw tl();return t+(this.isRed()?0:1)},t}();gf.EMPTY=null,gf.RED=!0,gf.BLACK=!1,gf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw tl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new gf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var mf=function(){function t(t){this.comparator=t,this.data=new df(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new yf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new yf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),yf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),vf=new df(xl.comparator);function bf(){return vf}var wf=new df(xl.comparator);function _f(){return wf}var Of=new df(xl.comparator);function Sf(){return Of}var Ef=new mf(xl.comparator);function Cf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ef,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var If=new mf(ol);function Tf(){return If}var Af=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(cl.min(),r,Tf(),bf(),Cf())},t}(),xf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(vl.EMPTY_BYTE_STRING,n,Cf(),Cf(),Cf())},t}(),jf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},kf=function(t,e){this.targetId=t,this.V=e},Nf=function(t,e,n,r){void 0===n&&(n=vl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Df=function(){function t(){this.S=0,this.D=Lf(),this.C=vl.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Cf(),e=Cf(),n=Cf();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:tl()}}),new xf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Lf()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Rf=function(){function t(t){this.W=t,this.G=new Map,this.H=bf(),this.J=Pf(),this.Y=new mf(ol)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:tl()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Yl(i))if(0===n){var o=new xl(i.path);this.tt(e,o,Gl.newNoDocument(o,cl.min()))}else el(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Yl(o.target)){var s=new xl(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Gl.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Cf();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Af(t,n,this.Y,this.H,r);return this.H=bf(),this.J=Pf(),this.Y=new mf(ol),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Df,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new mf(ol),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Yc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Df),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Pf(){return new df(xl.comparator)}function Lf(){return new df(xl.comparator)}var Vf={asc:"ASCENDING",desc:"DESCENDING"},Mf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ff=function(t,e){this.databaseId=t,this.I=e};function Uf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function qf(t,e){return t.I?e.toBase64():e.toUint8Array()}function Hf(t,e){return Uf(t,e.toTimestamp())}function Bf(t){return el(!!t),cl.fromTimestamp(function(t){var e=wl(t);return new ul(e.seconds,e.nanos)}(t))}function zf(t,e){return function(t){return new pl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Gf(t){var e=pl.fromString(t);return el(gd(e)),e}function Kf(t,e){return zf(t.databaseId,e.path)}function $f(t,e){var n=Gf(e);if(n.get(1)!==t.databaseId.projectId)throw new $c(Kc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $c(Kc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xl(Zf(n))}function Wf(t,e){return zf(t.databaseId,e)}function Qf(t){var e=Gf(t);return 4===e.length?pl.emptyPath():Zf(e)}function Yf(t){return new pl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zf(t){return el(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Xf(t,e,n){return{name:Kf(t,e),fields:n.toProto().mapValue.fields}}function Jf(t,e,n){var r=$f(t,e.name),i=Bf(e.updateTime),o=new Bl({mapValue:{fields:e.fields}}),s=Gl.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function td(t,e){var n;if(e instanceof tf)n={update:Xf(t,e.key,e.value)};else if(e instanceof uf)n={delete:Kf(t,e.key)};else if(e instanceof ef)n={update:Xf(t,e.key,e.data),updateMask:pd(e.fieldMask)};else{if(!(e instanceof cf))return tl();n={verify:Kf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Lh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw tl()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Hf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:tl()}(t,e.precondition)),n}function ed(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Kh.updateTime(Bf(t.updateTime)):void 0!==t.exists?Kh.exists(t.exists):Kh.none()}(e.currentDocument):Kh.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(el("REQUEST_TIME"===e.setToServerValue),n=new Lh):"appendMissingElements"in e?n=new Vh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Fh(e.removeAllFromArray.values||[]):"increment"in e?n=new qh(t,e.increment):tl();var r=ml.fromServerFormat(e.fieldPath);return new zh(r,n)}(t,e)}):[];if(e.update){var i=$f(t,e.update.name),o=new Bl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new yl((t.fieldPaths||[]).map(function(t){return ml.fromServerFormat(t)}))}(e.updateMask);return new ef(i,o,s,n,r)}return new tf(i,o,n,r)}if(e.delete){var a=$f(t,e.delete);return new uf(a,n)}if(e.verify){var u=$f(t,e.verify);return new cf(u,n)}return tl()}function nd(t,e){return{documents:[Wf(t,e.path)]}}function rd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Wf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(ql(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NAN"}};if(Ul(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ql(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NOT_NAN"}};if(Ul(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ld(t.field),op:cd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ld(t.field),direction:ud(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Il(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=sd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=sd(e.endAt)),n}function id(t){var e=Qf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){el(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=od(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new uh(hd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Il(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ad(n.startAt));var l=null;return n.endAt&&(l=ad(n.endAt)),dh(e,i,a,s,u,"F",c,l)}function od(t){return t?void 0!==t.unaryFilter?[dd(t)]:void 0!==t.fieldFilter?[fd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return od(t)}).reduce(function(t,e){return t.concat(e)}):tl():[]}function sd(t){return{before:t.before,values:t.position}}function ad(t){return new sh(t.values||[],!!t.before)}function ud(t){return Vf[t]}function cd(t){return Mf[t]}function ld(t){return{fieldPath:t.canonicalString()}}function hd(t){return ml.fromServerFormat(t.fieldPath)}function fd(t){return Zl.create(hd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return tl()}}(t.fieldFilter.op),t.fieldFilter.value)}function dd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=hd(t.unaryFilter.field);return Zl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=hd(t.unaryFilter.field);return Zl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hd(t.unaryFilter.field);return Zl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hd(t.unaryFilter.field);return Zl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return tl()}}function pd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function gd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function md(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=vd(e)),e=yd(t.get(n),e);return vd(e)}function yd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function vd(t){return t+"\x01\x01"}function bd(t){var e=t.length;if(el(e>=2),2===e)return el("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),pl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&tl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:tl()}o=s+2}return new pl(r)}var wd=function(t,e){this.seconds=t,this.nanoseconds=e},_d=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};_d.store="owner",_d.key="owner";var Od=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Od.store="mutationQueues",Od.keyPath="userId";var Sd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Sd.store="mutations",Sd.keyPath="batchId",Sd.userMutationsIndex="userMutationsIndex",Sd.userMutationsKeyPath=["userId","batchId"];var Ed=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,md(e)]},t.key=function(t,e,n){return[t,md(e),n]},t}();Ed.store="documentMutations",Ed.PLACEHOLDER=new Ed;var Cd=function(t,e){this.path=t,this.readTime=e},Id=function(t,e){this.path=t,this.version=e},Td=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Td.store="remoteDocuments",Td.readTimeIndex="readTimeIndex",Td.readTimeIndexPath="readTime",Td.collectionReadTimeIndex="collectionReadTimeIndex",Td.collectionReadTimeIndexPath=["parentPath","readTime"];var Ad=function(t){this.byteSize=t};Ad.store="remoteDocumentGlobal",Ad.key="remoteDocumentGlobalKey";var xd=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};xd.store="targets",xd.keyPath="targetId",xd.queryTargetsIndexName="queryTargetsIndex",xd.queryTargetsKeyPath=["canonicalId","targetId"];var jd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};jd.store="targetDocuments",jd.keyPath=["targetId","path"],jd.documentTargetsIndex="documentTargetsIndex",jd.documentTargetsKeyPath=["path","targetId"];var kd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};kd.key="targetGlobalKey",kd.store="targetGlobal";var Nd=function(t,e){this.collectionId=t,this.parent=e};Nd.store="collectionParents",Nd.keyPath=["collectionId","parent"];var Dd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Dd.store="clientMetadata",Dd.keyPath="clientId";var Rd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Rd.store="bundles",Rd.keyPath="bundleId";var Pd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Pd.store="namedQueries",Pd.keyPath="name";var Ld=Object(wi.f)(Object(wi.f)([],Object(wi.f)(Object(wi.f)([],Object(wi.f)(Object(wi.f)([],Object(wi.f)(Object(wi.f)([],[Od.store,Sd.store,Ed.store,Td.store,xd.store,_d.store,kd.store,jd.store]),[Dd.store])),[Ad.store])),[Nd.store])),[Rd.store,Pd.store]),Vd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Md=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Fd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ud=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&tl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),qd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Fd,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new zd(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Qd(e.target.error);n.ft.reject(new zd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new zd(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Yc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Kd(e)},t}(),Hd=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Ho.h)())&&Zc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Yc("SimpleDb","Removing database:",t),$d(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Ho.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(wi.b)(this,void 0,void 0,function(){var e,n=this;return Object(wi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Yc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new zd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new $c(Kc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new zd(t,n))},i.onupgradeneeded=function(t){Yc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Yc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(wi.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(wi.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(wi.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=qd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Ud.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Yc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Bd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return $d(this.Pt.delete())},t}(),zd=function(t){function e(e,n){var r=this;return(r=t.call(this,Kc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(wi.c)(e,t),e}($c);function Gd(t){return"IndexedDbTransactionError"===t.name}var Kd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Yc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Yc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),$d(n)},t.prototype.add=function(t){return Yc("SimpleDb","ADD",this.store.name,t,t),$d(this.store.add(t))},t.prototype.get=function(t){var e=this;return $d(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Yc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Yc("SimpleDb","DELETE",this.store.name,t),$d(this.store.delete(t))},t.prototype.count=function(){return Yc("SimpleDb","COUNT",this.store.name),$d(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Yc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Ud(function(n,r){e.onerror=function(t){var e=Qd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Ud(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Bd(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ud){var a=s.catch(function(t){return o.done(),Ud.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Ud.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function $d(t){return new Ud(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Qd(t.target.error);n(e)}})}var Wd=!1;function Qd(t){var e=Hd._t(Object(Ho.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new $c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Wd||(Wd=!0,setTimeout(function(){throw r},0)),r}}return t}var Yd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(wi.c)(e,t),e}(Md);function Zd(t,e){var n=nl(t);return Hd.It(n.Mt,e)}var Xd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Qh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Yh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Yh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(cl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Cf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&sl(this.mutations,t.mutations,function(t,e){return Xh(t,e)})&&sl(this.baseMutations,t.baseMutations,function(t,e){return Xh(t,e)})},t}(),Jd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){el(e.mutations.length===r.length);for(var i=Sf(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),tp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=cl.min()),void 0===o&&(o=cl.min()),void 0===s&&(s=vl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ep=function(t){this.Lt=t};function np(t,e){if(e.document)return Jf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=xl.fromSegments(e.noDocument.path),r=ap(e.noDocument.readTime),i=Gl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=xl.fromSegments(e.unknownDocument.path);return r=ap(e.unknownDocument.version),Gl.newUnknownDocument(o,r)}return tl()}function rp(t,e,n){var r=ip(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Kf(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Uf(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Td(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=sp(e.version);return s=e.hasCommittedMutations,new Td(null,new Cd(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=sp(e.version);return new Td(new Id(c,l),null,null,!0,r,i)}return tl()}function ip(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function op(t){var e=new ul(t[0],t[1]);return cl.fromTimestamp(e)}function sp(t){var e=t.toTimestamp();return new wd(e.seconds,e.nanoseconds)}function ap(t){var e=new ul(t.seconds,t.nanoseconds);return cl.fromTimestamp(e)}function up(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ed(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ed(t.Lt,e)}),o=ul.fromMillis(e.localWriteTimeMs);return new Xd(e.batchId,o,n,i)}function cp(t){var e,n,r=ap(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ap(t.lastLimboFreeSnapshotVersion):cl.min();return void 0!==t.query.documents?(el(1===(n=t.query).documents.length),e=_h(ph(Qf(n.documents[0])))):e=function(t){return _h(id(t))}(t.query),new tp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,vl.fromBase64String(t.resumeToken))}function lp(t,e){var n,r=sp(e.snapshotVersion),i=sp(e.lastLimboFreeSnapshotVersion);n=Yl(e.target)?nd(t.Lt,e.target):rd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new xd(e.targetId,Wl(e.target),r,o,e.sequenceNumber,i,n)}function hp(t){var e=id({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Oh(e,e.limit,"L"):e}var fp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return dp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:ap(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return dp(t).put({bundleId:(n=e).id,createTime:sp(Bf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return pp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:hp(e.bundledQuery),readTime:ap(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return pp(t).put(function(t){return{name:t.name,readTime:sp(Bf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function dp(t){return Zd(t,Rd.store)}function pp(t){return Zd(t,Pd.store)}var gp=function(){function t(){this.Bt=new mp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ud.resolve()},t.prototype.getCollectionParents=function(t,e){return Ud.resolve(this.Bt.getEntries(e))},t}(),mp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new mf(pl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new mf(pl.comparator)).toArray()},t}(),yp=function(){function t(){this.qt=new mp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:md(i)};return vp(t).put(o)}return Ud.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[al(e),""],!1,!0);return vp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(bd(o.parent))}return n})},t}();function vp(t){return Zd(t,Nd.store)}var bp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function _p(t,e,n){var r=t.store(Sd.store),i=t.store(Ed.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){el(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ed.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ud.waitFor(o).next(function(){return c})}function Op(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw tl();e=t.noDocument}return JSON.stringify(e).length}wp.DEFAULT_COLLECTION_PERCENTILE=10,wp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wp.DEFAULT=new wp(41943040,wp.DEFAULT_COLLECTION_PERCENTILE,wp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wp.DISABLED=new wp(-1,0,0);var Sp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return el(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cp(t).Ot({index:Sd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Ip(t),s=Cp(t);return s.add({}).next(function(a){el("number"==typeof a);for(var u=new Xd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return td(t.Lt,e)}),i=n.mutations.map(function(e){return td(t.Lt,e)});return new Sd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new mf(function(t,e){return ol(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Ed.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Ed.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Ud.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Cp(t).get(e).next(function(t){return t?(el(t.userId===n.userId),up(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Ud.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Cp(t).Ot({index:Sd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(el(e.batchId>=r),o=up(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Cp(t).Ot({index:Sd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cp(t).Nt(Sd.userMutationsIndex,n).next(function(t){return t.map(function(t){return up(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ed.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ip(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=bd(r[1]);if(a===n.userId&&e.path.isEqual(c))return Cp(t).get(u).next(function(t){if(!t)throw tl();el(t.userId===n.userId),o.push(up(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new mf(ol),i=[];return e.forEach(function(e){var o=Ed.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ip(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=bd(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Ud.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ed.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new mf(ol);return Ip(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=bd(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Cp(t).get(e).next(function(t){if(null===t)throw tl();el(t.userId===n.userId),r.push(up(n.R,t))}))}),Ud.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return _p(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Ud.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Ud.resolve();var r=IDBKeyRange.lowerBound(Ed.prefixForUser(e.userId)),i=[];return Ip(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=bd(t[1]);i.push(o)}else r.done()}).next(function(){el(0===i.length)})})},t.prototype.containsKey=function(t,e){return Ep(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Tp(t).get(this.userId).next(function(t){return t||new Od(e.userId,-1,"")})},t}();function Ep(t,e,n){var r=Ed.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ip(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Cp(t){return Zd(t,Sd.store)}function Ip(t){return Zd(t,Ed.store)}function Tp(t){return Zd(t,Od.store)}var Ap=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),xp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Ap(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return cl.fromTimestamp(new ul(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return jp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return el(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return jp(t).Ot(function(s,a){var u=cp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Ud.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return jp(t).Ot(function(t,n){var r=cp(n);e(r)})},t.prototype.Xt=function(t){return kp(t).get(kd.key).next(function(t){return el(null!==t),t})},t.prototype.Zt=function(t,e){return kp(t).put(kd.key,e)},t.prototype.te=function(t,e){return jp(t).put(lp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Wl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jp(t).Ot({range:r,index:xd.queryTargetsIndexName},function(t,n,r){var o=cp(n);Ql(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Np(t);return e.forEach(function(e){var s=md(e.path);i.push(o.put(new jd(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Ud.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Np(t);return Ud.forEach(e,function(e){var o=md(e.path);return Ud.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Np(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Np(t),i=Cf();return r.Ot({range:n,kt:!0},function(t,e,n){var r=bd(t[1]),o=new xl(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=md(e.path),r=IDBKeyRange.bound([n],[al(n)],!1,!0),i=0;return Np(t).Ot({index:jd.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return jp(t).get(e).next(function(t){return t?cp(t):null})},t}();function jp(t){return Zd(t,xd.store)}function kp(t){return Zd(t,kd.store)}function Np(t){return Zd(t,jd.store)}function Dp(t){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(e){if(t.code!==Kc.FAILED_PRECONDITION||t.message!==Vd)throw t;return Yc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Rp(t,e){var n=t[1],r=e[1],i=ol(t[0],e[0]);return 0===i?ol(n,r):i}var Pp=function(){function t(t){this.ne=t,this.buffer=new mf(Rp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Rp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Lp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Yc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(wi.b)(e,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Gd(e=n.sent())?(Yc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Dp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Vp=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ud.resolve(Gc.o);var r=new Pp(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Yc("LruGarbageCollector","Garbage collection skipped; disabled"),Ud.resolve(bp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Yc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),bp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Yc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Qc()<=Bo.a.DEBUG&&Yc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ud.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Mp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Vp(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Fp(t,n)},t.prototype.removeReference=function(t,e,n){return Fp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Fp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Tp(t).$t(function(r){return Ep(t,r,e).next(function(t){return t&&(n=!0),Ud.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Np(t).delete([0,md(s.path)])})});i.push(u)}}).next(function(){return Ud.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Fp(t,e)},t.prototype.we=function(t,e){var n,r=Np(t),i=Gc.o;return r.Ot({index:jd.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Gc.o&&e(new xl(bd(n)),i),i=s,n=o):i=Gc.o}).next(function(){i!==Gc.o&&e(new xl(bd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Fp(t,e){return Np(t).put(function(t,e){return new jd(0,md(t.path),e)}(e,t.currentSequenceNumber))}var Up=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){hl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return fl(this.inner)},t}(),qp=function(){function t(){this.changes=new Up(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:cl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Gl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ud.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Hp=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Gp(t).put(Kp(e),n)},t.prototype.removeEntry=function(t,e){var n=Gp(t),r=Kp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Gp(t).get(Kp(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Gp(t).get(Kp(e)).next(function(t){return{document:n.ye(e,t),size:Op(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=bf();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=bf(),i=new df(xl.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Op(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ud.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Gp(t).Ot({range:r},function(t,e,r){for(var s=xl.fromSegments(t);o&&xl.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=bf(),o=e.path.length+1,s={};if(n.isEqual(cl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=ip(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Td.collectionReadTimeIndex}return Gp(t).Ot(s,function(t,n,s){if(t.length===o){var a=np(r.R,n);e.path.isPrefixOf(a.key.path)?Ih(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Bp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return zp(t).get(Ad.key).next(function(t){return el(!!t),t})},t.prototype.me=function(t,e){return zp(t).put(Ad.key,e)},t.prototype.ye=function(t,e){if(e){var n=np(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(cl.min()))return n}return Gl.newInvalidDocument(t)},t}(),Bp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Up(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(wi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new mf(function(t,e){return ol(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=rp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Op(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=rp(e.Ie.R,Gl.newNoDocument(o,cl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Ud.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(qp);function zp(t){return Zd(t,Ad.store)}function Gp(t){return Zd(t,Td.store)}function Kp(t){return t.path.toArray()}var $p=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;el(n<r&&n>=0&&r<=11);var o=new qd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(_d.store)}(t),function(t){t.createObjectStore(Od.store,{keyPath:Od.keyPath}),t.createObjectStore(Sd.store,{keyPath:Sd.keyPath,autoIncrement:!0}).createIndex(Sd.userMutationsIndex,Sd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ed.store)}(t),Wp(t),function(t){t.createObjectStore(Td.store)}(t));var s=Ud.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(jd.store),t.deleteObjectStore(xd.store),t.deleteObjectStore(kd.store)}(t),Wp(t)),s=s.next(function(){return function(t){var e=t.store(kd.store),n=new kd(0,0,cl.min().toTimestamp(),0);return e.put(kd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Sd.store).Nt().next(function(n){t.deleteObjectStore(Sd.store),t.createObjectStore(Sd.store,{keyPath:Sd.keyPath,autoIncrement:!0}).createIndex(Sd.userMutationsIndex,Sd.userMutationsKeyPath,{unique:!0});var r=e.store(Sd.store),i=n.map(function(t){return r.put(t)});return Ud.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Dd.store,{keyPath:Dd.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Ad.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Td.store);e.createIndex(Td.readTimeIndex,Td.readTimeIndexPath,{unique:!1}),e.createIndex(Td.collectionReadTimeIndex,Td.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Rd.store,{keyPath:Rd.keyPath})}(t),function(t){t.createObjectStore(Pd.store,{keyPath:Pd.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Td.store).Ot(function(t,n){e+=Op(n)}).next(function(){var n=new Ad(e);return t.store(Ad.store).put(Ad.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Od.store),r=t.store(Sd.store);return n.Nt().next(function(n){return Ud.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Sd.userMutationsIndex,i).next(function(r){return Ud.forEach(r,function(r){el(r.userId===n.userId);var i=up(e.R,r);return _p(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(jd.store),n=t.store(Td.store);return t.store(kd.store).get(kd.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new pl(n),s=function(t){return[0,md(t)]}(o);r.push(e.get(s).next(function(n){return n?Ud.resolve():function(n){return e.put(new jd(0,md(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Ud.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Nd.store,{keyPath:Nd.keyPath});var n=e.store(Nd.store),r=new mp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:md(i)})}};return e.store(Td.store).Ot({kt:!0},function(t,e){var n=new pl(t);return i(n.popLast())}).next(function(){return e.store(Ed.store).Ot({kt:!0},function(t,e){var n=bd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(xd.store);return n.Ot(function(t,r){var i=cp(r),o=lp(e.R,i);return n.put(o)})},t}();function Wp(t){t.createObjectStore(jd.store,{keyPath:jd.keyPath}).createIndex(jd.documentTargetsIndex,jd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(xd.store,{keyPath:xd.keyPath}).createIndex(xd.queryTargetsIndexName,xd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(kd.store)}var Qp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Yp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new $c(Kc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mp(this,i),this.Le=n+"main",this.R=new ep(u),this.Be=new Hd(this.Le,11,new $p(this.R)),this.qe=new xp(this.referenceDelegate,this.R),this.Ut=new yp,this.Ue=function(t,e){return new Hp(t,e)}(this.R,this.Ut),this.Qe=new fp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Zc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new $c(Kc.FAILED_PRECONDITION,Qp);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Gc(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(wi.b)(e,void 0,void 0,function(){return Object(wi.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(wi.b)(e,void 0,void 0,function(){return Object(wi.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(wi.b)(e,void 0,void 0,function(){return Object(wi.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Xp(e).put(new Dd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Gd(e))return Yc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Yc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Zp(t).get(_d.key).next(function(t){return Ud.resolve(e.tn(t))})},t.prototype.en=function(t){return Xp(t).delete(this.clientId)},t.prototype.nn=function(){return Object(wi.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(wi.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Zd(t,Dd.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ud.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ud.resolve(!0):Zp(t).get(_d.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new $c(Kc.FAILED_PRECONDITION,Qp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Xp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Yc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(wi.b)(this,void 0,void 0,function(){var t=this;return Object(wi.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[_d.store,Dd.store],function(e){var n=new Yd(e,Gc.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Xp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Sp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Yc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ld,function(o){return r=new Yd(o,i.Ne?i.Ne.next():Gc.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Zc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new $c(Kc.FAILED_PRECONDITION,Vd);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Zp(t).get(_d.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new $c(Kc.FAILED_PRECONDITION,Qp)})},t.prototype.Ze=function(t){var e=new _d(this.clientId,this.allowTabSynchronization,Date.now());return Zp(t).put(_d.key,e)},t.yt=function(){return Hd.yt()},t.prototype.Xe=function(t){var e=this,n=Zp(t);return n.get(_d.key).next(function(t){return e.tn(t)?(Yc("IndexedDbPersistence","Releasing primary lease."),n.delete(_d.key)):Ud.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Zc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Yc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Zc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Zc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Zp(t){return Zd(t,_d.store)}function Xp(t){return Zd(t,Dd.store)}function Jp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var tg=function(t,e){this.progress=t,this.wn=e},eg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return xl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):bh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new xl(e)).next(function(t){var e=_f();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=_f();return this.Ut.getCollectionParents(t,i).next(function(s){return Ud.forEach(s,function(s){var a=function(t,e){return new fh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Gl.newInvalidDocument(c),r=r.insert(c,l)),Yh(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Ih(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Cf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ef&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),ng=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Cf(),i=Cf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),rg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(cl.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(gh(e)||mh(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Qc()<=Bo.a.DEBUG&&Yc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ch(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new mf(Th(t));return e.forEach(function(e,r){Ih(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Qc()<=Bo.a.DEBUG&&Yc("QueryEngine","Using full collection scan to execute query:",Ch(e)),this.Sn.getDocumentsMatchingQuery(t,e,cl.min())},t}(),ig=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new df(ol),this.kn=new Up(function(t){return Wl(t)},Ql),this.On=cl.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new eg(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function og(t,e,n,r){return new ig(t,e,n,r)}function sg(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(wi.d)(this,function(s){switch(s.label){case 0:return n=nl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new eg(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Cf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function ag(t,e){var n=nl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ud.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);el(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function ug(t){var e=nl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function cg(t,e){var n=nl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return el(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=bf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(lg(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(cl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Ud.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function lg(t,e,n,r,i){var o=Cf();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=bf();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(cl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Yc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function hg(t,e){var n=nl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function fg(t,e){var n=nl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Ud.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new tp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function dg(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(wi.d)(this,function(a){switch(a.label){case 0:r=nl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Gd(s=a.sent()))throw s;return Yc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function pg(t,e,n){var r=nl(t),i=cl.min(),o=Cf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=nl(t),i=r.kn.get(n);return void 0!==i?Ud.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,_h(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:cl.min(),n?o:Cf())}).next(function(t){return{documents:t,Bn:o}})})}function gg(t,e){var n=nl(t),r=nl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function mg(t){var e=nl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=nl(t),i=bf(),o=ip(n),s=Gp(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:Td.readTimeIndex,range:a},function(t,e){var n=np(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:op(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function yg(t){return Object(wi.b)(this,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){return[2,(e=nl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Gp(t),n=cl.min();return e.Ot({index:Td.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=op(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function vg(t,e,n,r){return Object(wi.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(wi.d)(this,function(p){switch(p.label){case 0:for(i=nl(t),o=Cf(),s=bf(),a=Sf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,fg(i,function(t){return _h(ph(pl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return lg(t,f,s,cl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function bg(t,e,n){return void 0===n&&(n=Cf()),Object(wi.b)(this,void 0,void 0,function(){var r,i;return Object(wi.d)(this,function(o){switch(o.label){case 0:return[4,fg(t,_h(hp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=nl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Bf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(vl.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var wg=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ud.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Bf(n.createTime)}),Ud.resolve()},t.prototype.getNamedQuery=function(t,e){return Ud.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:hp(t.bundledQuery),readTime:Bf(t.readTime)}}(e)),Ud.resolve()},t}(),_g=function(){function t(){this.Wn=new mf(Og.Gn),this.zn=new mf(Og.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Og(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Og(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new xl(new pl([])),r=new Og(n,t),i=new Og(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new xl(new pl([])),n=new Og(e,t),r=new Og(e,t+1),i=Cf();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Og(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Og=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return xl.comparator(t.key,e.key)||ol(t.ns,e.ns)},t.Hn=function(t,e){return ol(t.ns,e.ns)||xl.comparator(t.key,e.key)},t}(),Sg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new mf(Og.Gn)}return t.prototype.checkEmpty=function(t){return Ud.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Xd(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Og(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ud.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ud.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ud.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ud.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ud.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Og(e,0),i=new Og(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Ud.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new mf(ol);return e.forEach(function(t){var e=new Og(t,0),i=new Og(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Ud.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;xl.isDocumentKey(i)||(i=i.child(""));var o=new Og(new xl(i),0),s=new mf(ol);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Ud.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;el(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ud.forEach(e.mutations,function(i){var o=new Og(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Og(e,0),r=this.rs.firstAfterOrEqual(n);return Ud.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ud.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Eg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new df(xl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ud.resolve(n?n.document.clone():Gl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=bf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Gl.newInvalidDocument(t))}),Ud.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=bf(),i=new xl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Ih(e,u)&&(r=r.insert(u.key,u.clone()))}return Ud.resolve(r)},t.prototype.fs=function(t,e){return Ud.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Cg(this)},t.prototype.getSize=function(t){return Ud.resolve(this.size)},t}(),Cg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(wi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Ud.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(qp),Ig=function(){function t(t){this.persistence=t,this.ds=new Up(function(t){return Wl(t)},Ql),this.lastRemoteSnapshotVersion=cl.min(),this.highestTargetId=0,this.ws=0,this._s=new _g,this.targetCount=0,this.ys=Ap.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Ud.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ud.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ud.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ud.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ud.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Ap(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ud.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ud.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ud.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ud.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Ud.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ud.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ud.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Ud.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ud.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ud.resolve(n)},t.prototype.containsKey=function(t,e){return Ud.resolve(this._s.containsKey(e))},t}(),Tg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Gc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ig(this),this.Ut=new gp,this.Ue=function(t,e){return new Eg(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new ep(e),this.Qe=new wg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Sg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Yc("MemoryPersistence","Starting transaction:",t);var i=new Ag(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Ud.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Ag=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(wi.c)(e,t),e}(Md),xg=function(){function t(t){this.persistence=t,this.As=new _g,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw tl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ud.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ud.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ud.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ud.forEach(this.vs,function(r){var i=xl.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ud.or([function(){return Ud.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),jg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function kg(t,e){return"firestore_clients_"+t+"_"+e}function Ng(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Dg(t,e){return"firestore_targets_"+t+"_"+e}jg.UNAUTHENTICATED=new jg(null),jg.GOOGLE_CREDENTIALS=new jg("google-credentials-uid"),jg.FIRST_PARTY=new jg("first-party-uid");var Rg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new $c(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Zc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new $c(i.error.code,i.error.message)),o?new t(e,i.state,r):(Zc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Lg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Tf(),s=0;i&&s<r.activeTargetIds.length;++s)i=Al(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Zc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Zc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Mg=function(){function t(){this.activeTargetIds=Tf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Fg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new df(ol),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=kg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Mg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(wi.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(wi.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(kg(this.persistenceKey,r)))&&(o=Lg.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Dg(this.persistenceKey,t));if(n){var r=Pg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Dg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Yc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Yc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Yc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Yc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Zc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(wi.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(wi.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Gc.o;if(null!=t)try{var n=JSON.parse(t);el("number"==typeof n),e=n}catch(t){Zc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Gc.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Rg(this.currentUser,t,e,n),i=Ng(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Ng(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Dg(this.persistenceKey,t),i=new Pg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Lg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Rg.Vs(new jg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Pg.Vs(r,e)},t.prototype.js=function(t){return Vg.Vs(t)},t.prototype.ii=function(t){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Yc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Tf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Ug=function(){function t(){this.li=new Mg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Mg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),qg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Hg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Yc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Yc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Bg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Gg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(wi.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new zc;s.listenOnce(qc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Uc.NO_ERROR:var e=s.getResponseJson();Yc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Uc.TIMEOUT:Yc("Connection",'RPC "'+t+'" timed out'),o(new $c(Kc.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:var n=s.getStatus();if(Yc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Kc).indexOf(e)>=0?e:Kc.UNKNOWN}(r.status);o(new $c(a,r.message))}else o(new $c(Kc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new $c(Kc.UNAVAILABLE,"Connection failed."));break;default:tl()}}finally{Yc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Pc,i=Ma(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(Ho.m)()||Object(Ho.o)()||Object(Ho.k)()||Object(Ho.l)()||Object(Ho.p)()||Object(Ho.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Yc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new zg({Ei:function(t){c?Yc("Connection","Not sending because WebChannel is closed:",t):(u||(Yc("Connection","Opening WebChannel transport."),a.open(),u=!0),Yc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Bc.EventType.OPEN,function(){c||Yc("Connection","WebChannel transport opened.")}),h(a,Bc.EventType.CLOSE,function(){c||(c=!0,Yc("Connection","WebChannel transport closed"),l.Vi())}),h(a,Bc.EventType.ERROR,function(t){c||(c=!0,Xc("Connection","WebChannel transport errored:",t),l.Vi(new $c(Kc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Bc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];el(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Yc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=sf[t];if(void 0!==e)return ff(e)}(i),s=r.message;void 0===o&&(o=Kc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new $c(o,s)),a.close()}else Yc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Hc.STAT_EVENT,function(t){10===t.stat?Yc("Connection","Detected buffering proxy"):11===t.stat&&Yc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Yc("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Yc("RestConnection","Received: ",t),t},function(e){throw Xc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Bg[t]},t}());function Kg(){return"undefined"!=typeof window?window:null}function $g(){return"undefined"!=typeof document?document:null}function Wg(t){return new Ff(t,!0)}var Qg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Yc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Yg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Qg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Kc.RESOURCE_EXHAUSTED?(Zc(e.toString()),Zc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Kc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new $c(Kc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(wi.b)(t,void 0,void 0,function(){return Object(wi.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Yc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Yc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Zg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(wi.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:tl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(el(void 0===e||"string"==typeof e),vl.fromBase64String(e||"")):(el(void 0===e||e instanceof Uint8Array),vl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Kc.UNKNOWN:ff(t.code);return new $c(e,t.message||"")}(a);n=new Nf(r,i,o,s||null)}else if("documentChange"in e){i=$f(t,(r=e.documentChange).document.name),o=Bf(r.document.updateTime);var a=new Bl({mapValue:{fields:r.document.fields}}),u=(s=Gl.newFoundDocument(i,o,a),r.targetIds||[]);n=new jf(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=$f(t,(r=e.documentDelete).document),o=r.readTime?Bf(r.readTime):cl.min(),a=Gl.newNoDocument(i,o),n=new jf([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=$f(t,(r=e.documentRemove).document),n=new jf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return tl();var c=e.filter;i=new lf(r=c.count||0),n=new kf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return cl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?cl.min():e.readTime?Bf(e.readTime):cl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Yf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Yl(r)?{documents:nd(t,r)}:{query:rd(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=qf(t,e.resumeToken):e.snapshotVersion.compareTo(cl.min())>0&&(n.readTime=Uf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Yf(this.R),e.removeTarget=t,this.cr(e)},e}(Yg),Xg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(wi.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(el(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(el(void 0!==e),t.map(function(t){return function(t,e){var n=Bf(t.updateTime?t.updateTime:e);return n.isEqual(cl.min())&&(n=Bf(e)),new Gh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Bf(t.commitTime);return this.listener.Tr(n,e)}return el(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Yf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return td(e.R,t)})};this.cr(n)},e}(Yg),Jg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(wi.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new $c(Kc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===Kc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===Kc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),tm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Zc(e),this.Vr=!1):Yc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),em=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(wi.b)(o,void 0,void 0,function(){return Object(wi.d)(this,function(t){switch(t.label){case 0:return lm(this)?(Yc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(wi.b)(this,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return(e=nl(t)).$r.add(4),[4,rm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,nm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new tm(n,r)};function nm(t){return Object(wi.b)(this,void 0,void 0,function(){var e,n;return Object(wi.d)(this,function(r){switch(r.label){case 0:if(!lm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function rm(t){return Object(wi.b)(this,void 0,void 0,function(){var e,n;return Object(wi.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function im(t,e){var n=nl(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),cm(n)?um(n):Cm(n).er()&&sm(n,e))}function om(t,e){var n=nl(t),r=Cm(n);n.Or.delete(e),r.er()&&am(n,e),0===n.Or.size&&(r.er()?r.ir():lm(n)&&n.Br.set("Unknown"))}function sm(t,e){t.qr.U(e.targetId),Cm(t).mr(e)}function am(t,e){t.qr.U(e),Cm(t).yr(e)}function um(t){t.qr=new Rf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Cm(t).start(),t.Br.Sr()}function cm(t){return lm(t)&&!Cm(t).tr()&&t.Or.size>0}function lm(t){return 0===nl(t).$r.size}function hm(t){t.qr=void 0}function fm(t){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(e){return t.Or.forEach(function(e,n){sm(t,e)}),[2]})})}function dm(t,e){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(n){return hm(t),cm(t)?(t.Br.Nr(e),um(t)):t.Br.set("Unknown"),[2]})})}function pm(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i,o;return Object(wi.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Nf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(wi.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Yc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,gm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof jf?t.qr.X(e):e instanceof kf?t.qr.rt(e):t.qr.et(e),n.isEqual(cl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ug(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(vl.EMPTY_BYTE_STRING,n.snapshotVersion)),am(t,e);var r=new tp(n.target,e,1,n.sequenceNumber);sm(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Yc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,gm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function gm(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r=this;return Object(wi.d)(this,function(i){switch(i.label){case 0:if(!Gd(e))throw e;return t.$r.add(1),[4,rm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return ug(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(wi.b)(r,void 0,void 0,function(){return Object(wi.d)(this,function(e){switch(e.label){case 0:return Yc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,nm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function mm(t,e){return e().catch(function(n){return gm(t,n,e)})}function ym(t){return Object(wi.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(wi.d)(this,function(s){switch(s.label){case 0:e=nl(t),n=Im(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return lm(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,hg(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Im(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,gm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return vm(e)&&bm(e),[2]}})})}function vm(t){return lm(t)&&!Im(t).tr()&&t.kr.length>0}function bm(t){Im(t).start()}function wm(t){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(e){return Im(t).Ar(),[2]})})}function _m(t){return Object(wi.b)(this,void 0,void 0,function(){var e,n,r;return Object(wi.d)(this,function(i){for(e=Im(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Om(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i;return Object(wi.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Jd.from(r,e,n),[4,mm(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,ym(t)];case 2:return o.sent(),[2]}})})}function Sm(t,e){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(n){switch(n.label){case 0:return e&&Im(t).pr?[4,function(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r;return Object(wi.d)(this,function(i){switch(i.label){case 0:return hf(r=e.code)&&r!==Kc.ABORTED?(n=t.kr.shift(),Im(t).sr(),[4,mm(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,ym(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return vm(t)&&bm(t),[2]}})})}function Em(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n;return Object(wi.d)(this,function(r){switch(r.label){case 0:return n=nl(t),e?(n.$r.delete(2),[4,nm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,rm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Cm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=nl(t);return r.br(),new Zg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:fm.bind(null,t),Ri:dm.bind(null,t),_r:pm.bind(null,t)}),t.Mr.push(function(n){return Object(wi.b)(e,void 0,void 0,function(){return Object(wi.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),cm(t)?um(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),hm(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Im(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=nl(t);return r.br(),new Xg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:wm.bind(null,t),Ri:Sm.bind(null,t),Ir:_m.bind(null,t),Tr:Om.bind(null,t)}),t.Mr.push(function(n){return Object(wi.b)(e,void 0,void 0,function(){return Object(wi.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,ym(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Yc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Tm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $c(Kc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Am(t,e){if(Zc("AsyncQueue",e+": "+t),Gd(t))return new $c(Kc.UNAVAILABLE,e+": "+t);throw t}var xm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||xl.comparator(e.key,n.key)}:function(t,e){return xl.comparator(t.key,e.key)},this.keyedMap=_f(),this.sortedSet=new df(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),jm=function(){function t(){this.Kr=new df(xl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):tl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),km=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,xm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Nm=function(){this.Wr=void 0,this.listeners=[]},Dm=function(){this.queries=new Up(function(t){return Eh(t)},Sh),this.onlineState="Unknown",this.Gr=new Set};function Rm(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(wi.d)(this,function(c){switch(c.label){case 0:if(n=nl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Nm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Am(a,"Initialization of query '"+Ch(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Mm(n),[2]}})})}function Pm(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(wi.d)(this,function(a){return n=nl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Lm(t,e){for(var n=nl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Mm(n)}function Vm(t,e,n){var r=nl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Mm(t){t.Gr.forEach(function(t){t.next()})}var Fm=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new km(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=km.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Um=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),qm=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return $f(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Jf(this.R,t.document,!1):Gl.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Bf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new qm(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Cf()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(wi.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(wi.d)(this,function(o){switch(o.label){case 0:return[4,vg(this.localStore,new qm(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,bg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new tg(Object.assign({},this.progress),t))]}})})}}();var Hm=function(t){this.key=t},Bm=function(t){this.key=t},zm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Cf(),this.mutatedKeys=Cf(),this.lo=Th(t),this.fo=new xm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new jm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=gh(this.query)&&i.size===this.query.limit?i.last():null,c=mh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Ih(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),gh(this.query)||mh(this.query))for(;s.size>this.query.limit;){var l=gh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new km(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new jm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Cf(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Bm(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Hm(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Cf();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return km.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Gm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Km=function(t){this.key=t,this.bo=!1},$m=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Up(function(t){return Eh(t)},Sh),this.Vo=new Map,this.So=new Set,this.Do=new df(xl.comparator),this.Co=new Map,this.No=new _g,this.xo={},this.Fo=new Map,this.ko=Ap.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Wm(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(wi.d)(this,function(a){switch(a.label){case 0:return n=Sy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,fg(n.localStore,_h(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Qm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&im(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Qm(t,e,n,r){return Object(wi.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(wi.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(wi.b)(this,void 0,void 0,function(){var i,o,s;return Object(wi.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,pg(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(uy(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,pg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new zm(e,i.Bn),s=o._o(i.documents),a=xf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),uy(t,n,u.To),c=new Gm(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Ym(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i;return Object(wi.d)(this,function(o){switch(o.label){case 0:return n=nl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Sh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,dg(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),om(n.remoteStore,r.targetId),sy(n,r.targetId)}).catch(Dp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return sy(n,r.targetId),[4,dg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Zm(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(wi.d)(this,function(a){switch(a.label){case 0:r=Ey(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=nl(t),i=ul.now(),o=e.reduce(function(t,e){return t.add(e.key)},Cf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Zh(c,n.get(c.key));null!=l&&s.push(new ef(c.key,l,zl(l.toProto().mapValue),Kh.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new df(ol)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,hy(r,i.changes)];case 3:return a.sent(),[4,ym(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Am(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Xm(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r;return Object(wi.d)(this,function(i){switch(i.label){case 0:n=nl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,cg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(el(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?el(r.bo):t.removedDocuments.size>0&&(el(r.bo),r.bo=!1))}),[4,hy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Dp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Jm(t,e,n){var r=nl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=nl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Mm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ty(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(wi.d)(this,function(c){switch(c.label){case 0:return(r=nl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new df(xl.comparator)).insert(o,Gl.newNoDocument(o,cl.min())),a=Cf().add(o),u=new Af(cl.min(),new Map,new mf(ol),s,a),[4,Xm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),ly(r),[3,4];case 2:return[4,dg(r.localStore,e,!1).then(function(){return sy(r,e,n)}).catch(Dp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function ey(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i;return Object(wi.d)(this,function(o){switch(o.label){case 0:n=nl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ag(n.localStore,e)];case 2:return i=o.sent(),oy(n,r,null),iy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,hy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ny(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i;return Object(wi.d)(this,function(o){switch(o.label){case 0:r=nl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=nl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return el(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),oy(r,e,n),iy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,hy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ry(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(wi.d)(this,function(a){switch(a.label){case 0:lm((n=nl(t)).remoteStore)||Yc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=nl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Am(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function iy(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function oy(t,e,n){var r=nl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function sy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||ay(t,e)})}function ay(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(om(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ly(t))}function uy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Hm?(t.No.addReference(o.key,e),cy(t,o)):o instanceof Bm?(Yc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||ay(t,o.key)):tl()}}function cy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Yc("SyncEngine","New document in limbo: "+n),t.So.add(r),ly(t))}function ly(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new xl(pl.fromString(e)),r=t.ko.next();t.Co.set(r,new Km(n)),t.Do=t.Do.insert(n,r),im(t.remoteStore,new tp(_h(ph(n.path)),r,2,Gc.o))}}function hy(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(wi.d)(this,function(a){switch(a.label){case 0:return r=nl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ng.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(wi.d)(this,function(l){switch(l.label){case 0:n=nl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ud.forEach(e,function(e){return Ud.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Ud.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Gd(r=l.sent()))throw r;return Yc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function fy(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r;return Object(wi.d)(this,function(i){switch(i.label){case 0:return(n=nl(t)).currentUser.isEqual(e)?[3,3]:(Yc("SyncEngine","User change. New user:",e.toKey()),[4,sg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new $c(Kc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,hy(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function dy(t,e){var n=nl(t),r=n.Co.get(e);if(r&&r.bo)return Cf().add(r.key);var i=Cf(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function py(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i;return Object(wi.d)(this,function(o){switch(o.label){case 0:return[4,pg((n=nl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&uy(n,e.targetId,i.To),i)]}})})}function gy(t){return Object(wi.b)(this,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){return[2,mg((e=nl(t)).localStore).then(function(t){return hy(e,t)})]})})}function my(t,e,n,r){return Object(wi.b)(this,void 0,void 0,function(){var i,o;return Object(wi.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=nl(t),r=nl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Ud.resolve(null)})})}((i=nl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,ym(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(oy(i,e,r||null),iy(i,e),function(t,e){nl(nl(t)._n).Gt(e)}(i.localStore,e)):tl(),s.label=4;case 4:return[4,hy(i,o)];case 5:return s.sent(),[3,7];case 6:Yc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function yy(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(wi.d)(this,function(c){switch(c.label){case 0:return Sy(n=nl(t)),Ey(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,vy(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Em(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)im(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return sy(n,e),dg(n.localStore,e,!0)}),om(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,vy(n,a)];case 5:return c.sent(),function(t){var e=nl(t);e.Co.forEach(function(t,n){om(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new df(xl.comparator)}(n),n.Oo=!1,[4,Em(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function vy(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(wi.d)(this,function(g){switch(g.label){case 0:n=nl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,fg(n.localStore,_h(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,py(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,gg(n.localStore,a)];case 8:return p=g.sent(),[4,fg(n.localStore,p)];case 9:return u=g.sent(),[4,Qm(n,by(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function by(t){return dh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function wy(t){var e=nl(t);return nl(nl(e.localStore).persistence).fn()}function _y(t,e,n,r){return Object(wi.b)(this,void 0,void 0,function(){var i,o,s;return Object(wi.d)(this,function(a){switch(a.label){case 0:return(i=nl(t)).Oo?(Yc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,mg(i.localStore)];case 3:return o=a.sent(),s=Af.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,hy(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,dg(i.localStore,e,!0)];case 6:return a.sent(),sy(i,e,r),[3,8];case 7:tl(),a.label=8;case 8:return[2]}})})}function Oy(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(wi.d)(this,function(f){switch(f.label){case 0:if(!(r=Sy(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Yc("SyncEngine","Adding an already active target "+s),[3,5]):[4,gg(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,fg(r.localStore,a)];case 3:return u=f.sent(),[4,Qm(r,by(a),u.targetId,!1)];case 4:f.sent(),im(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(wi.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,dg(r.localStore,t,!1).then(function(){om(r.remoteStore,t),sy(r,t)}).catch(Dp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Sy(t){var e=nl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ty.bind(null,e),e.vo._r=Lm.bind(null,e.eventManager),e.vo.Mo=Vm.bind(null,e.eventManager),e}function Ey(t){var e=nl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ey.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ny.bind(null,e),e}var Cy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(e){switch(e.label){case 0:return this.R=Wg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return og(this.persistence,new rg,t.initialUser,this.R)},t.prototype.qo=function(t){return new Tg(xg.bs,this.R)},t.prototype.Bo=function(t){return new Ug},t.prototype.terminate=function(){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(wi.c)(e,t),e.prototype.initialize=function(e){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,yg(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Ey(this.Ko.syncEngine)];case 4:return n.sent(),[4,ym(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return og(this.persistence,new rg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Lp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Jp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?wp.withCacheSize(this.cacheSizeBytes):wp.DEFAULT;return new Yp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Kg(),$g(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Ug},e}(Cy),Ty=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(wi.c)(e,t),e.prototype.initialize=function(e){return Object(wi.b)(this,void 0,void 0,function(){var n,r=this;return Object(wi.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Fg?(this.sharedClientState.syncEngine={ui:my.bind(null,n),ai:_y.bind(null,n),hi:Oy.bind(null,n),fn:wy.bind(null,n),ci:gy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(wi.b)(r,void 0,void 0,function(){return Object(wi.d)(this,function(e){switch(e.label){case 0:return[4,yy(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Kg();if(!Fg.yt(e))throw new $c(Kc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Jp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Fg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Iy),Ay=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n=this;return Object(wi.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Jm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fy.bind(null,this.syncEngine),[4,Em(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Dm},t.prototype.createDatastore=function(t){var e=Wg(t.databaseInfo.databaseId),n=new Gg(t.databaseInfo);return function(t,e,n){return new Jg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Jm(s.syncEngine,t,0)},o=Hg.yt()?new Hg:new qg,new em(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new $m(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(wi.b)(this,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return e=nl(t),Yc("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,rm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),xy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),jy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Fd,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(wi.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(wi.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Um(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(wi.b)(this,void 0,void 0,function(){var t,e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(wi.b)(this,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(wi.b)(this,void 0,void 0,function(){var t,e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(wi.b)(this,void 0,void 0,function(){var e,n=this;return Object(wi.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new $c(Kc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(wi.d)(this,function(u){switch(u.label){case 0:return n=nl(t),r=Yf(n.R)+"/documents",i={documents:e.map(function(t){return Kf(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){el(!!e.found);var n=$f(t,e.found.name),r=Bf(e.found.updateTime),i=new Bl({mapValue:{fields:e.found.fields}});return Gl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){el(!!e.missing),el(!!e.readTime);var n=$f(t,e.missing),r=Bf(e.readTime);return Gl.newNoDocument(n,r)}(t,e):tl()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());el(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new uf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(wi.b)(this,void 0,void 0,function(){var t,e=this;return Object(wi.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=xl.fromPath(n);e.mutations.push(new cf(r,e.precondition(r)))}),[4,function(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i;return Object(wi.d)(this,function(o){switch(o.label){case 0:return n=nl(t),r=Yf(n.R)+"/documents",i={writes:e.map(function(t){return td(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw tl();e=cl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new $c(Kc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Kh.updateTime(e):Kh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(cl.min()))throw new $c(Kc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kh.updateTime(e)}return Kh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),ky=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Qg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(wi.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(wi.d)(this,function(r){return t=new jy(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Il(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!hf(e)}return!1},t}(),Ny=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=jg.UNAUTHENTICATED,this.clientId=il.u(),this.credentialListener=function(){},this.receivedInitialUser=new Fd,this.credentials.setChangeListener(function(t){Yc("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new $c(Kc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Fd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(wi.b)(t,void 0,void 0,function(){var t,n;return Object(wi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Am(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Dy(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(wi.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Yc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(wi.b)(i,void 0,void 0,function(){return Object(wi.d)(this,function(t){switch(t.label){case 0:return[4,sg(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ry(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r;return Object(wi.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Py(t)];case 1:return n=i.sent(),Yc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(wi.b)(this,void 0,void 0,function(){var n,r;return Object(wi.d)(this,function(i){switch(i.label){case 0:return(n=nl(t)).asyncQueue.verifyOperationInProgress(),Yc("RemoteStore","RemoteStore received new credentials"),r=lm(n),n.$r.add(3),[4,rm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,nm(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Py(t){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Yc("FirestoreClient","Using default OfflineComponentProvider"),[4,Dy(t,new Cy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Ly(t){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Yc("FirestoreClient","Using default OnlineComponentProvider"),[4,Ry(t,new Ay)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Vy(t){return Py(t).then(function(t){return t.persistence})}function My(t){return Py(t).then(function(t){return t.localStore})}function Fy(t){return Ly(t).then(function(t){return t.remoteStore})}function Uy(t){return Ly(t).then(function(t){return t.syncEngine})}function qy(t){return Object(wi.b)(this,void 0,void 0,function(){var e,n;return Object(wi.d)(this,function(r){switch(r.label){case 0:return[4,Ly(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Wm.bind(null,e.syncEngine),n.onUnlisten=Ym.bind(null,e.syncEngine),n)]}})})}function Hy(t,e,n){var r=this;void 0===n&&(n={});var i=new Fd;return t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(r,void 0,void 0,function(){var r;return Object(wi.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new xy({next:function(o){e.enqueueAndForget(function(){return Pm(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new $c(Kc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new $c(Kc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Fm(ph(n.path),o,{includeMetadataChanges:!0,so:!0});return Rm(t,s)},[4,qy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function By(t,e,n){var r=this;void 0===n&&(n={});var i=new Fd;return t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(r,void 0,void 0,function(){var r;return Object(wi.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new xy({next:function(n){e.enqueueAndForget(function(){return Pm(t,s)}),n.fromCache&&"server"===r.source?i.reject(new $c(Kc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Fm(n,o,{includeMetadataChanges:!0,so:!0});return Rm(t,s)},[4,qy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var zy=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Gy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ky=new Map,$y=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Wy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(jg.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Qy=function(){function t(t){var e=this;this.oc=null,this.currentUser=jg.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Yc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(el("string"==typeof n.accessToken),new $y(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return el(null===t||"string"==typeof t),new jg(t)},t}(),Yy=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=jg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Zy=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Yy(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(jg.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Xy(t,e,n){if(!n)throw new $c(Kc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Jy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $c(Kc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function tv(t,e,n,r){if(!0===e&&!0===r)throw new $c(Kc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ev(t){if(!xl.isDocumentKey(t))throw new $c(Kc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function nv(t){if(xl.isDocumentKey(t))throw new $c(Kc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function rv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":tl()}function iv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $c(Kc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=rv(t);throw new $c(Kc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ov(t,e){if(e<=0)throw new $c(Kc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var sv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new $c(Kc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $c(Kc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,tv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),av=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,t instanceof Gy?(this._databaseId=t,this._credentials=new Wy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $c(Kc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gy(t.options.projectId)}(t),this._credentials=new Qy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new $c(Kc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new $c(Kc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Wy;switch(t.type){case"gapi":var e=t.client;return el(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Zy(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new $c(Kc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Ky.get(this))&&(Yc("ComponentProvider","Removing Datastore"),Ky.delete(this),t.terminate()),Promise.resolve();var t},t}(),uv=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lv(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),cv=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),lv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ph(r))||this)._path=r,i.type="collection",i}return Object(wi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new uv(this.firestore,null,new xl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(cv);function hv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ho.g)(t),Xy("collection","path",e),t instanceof av)return nv(n=pl.fromString.apply(pl,Object(wi.f)([e],r))),new lv(t,null,n);if(!(t instanceof uv||t instanceof lv))throw new $c(Kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nv(n=pl.fromString.apply(pl,Object(wi.f)([t.path],r)).child(pl.fromString(e))),new lv(t.firestore,null,n)}function fv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ho.g)(t),1===arguments.length&&(e=il.u()),Xy("doc","path",e),t instanceof av)return ev(n=pl.fromString.apply(pl,Object(wi.f)([e],r))),new uv(t,null,new xl(n));if(!(t instanceof uv||t instanceof lv))throw new $c(Kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ev(n=t._path.child(pl.fromString.apply(pl,Object(wi.f)([e],r)))),new uv(t.firestore,t instanceof lv?t._converter:null,new xl(n))}function dv(t,e){return t=Object(Ho.g)(t),e=Object(Ho.g)(e),(t instanceof uv||t instanceof lv)&&(e instanceof uv||e instanceof lv)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function pv(t,e){return t=Object(Ho.g)(t),e=Object(Ho.g)(e),t instanceof cv&&e instanceof cv&&t.firestore===e.firestore&&Sh(t._query,e._query)&&t._converter===e._converter}var gv=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Qg(this,"async_queue_retry"),this.Ec=function(){var e=$g();e&&Yc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=$g();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=$g();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(wi.b)(this,void 0,void 0,function(){var t,e=this;return Object(wi.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Gd(t=n.sent()))throw t;return Yc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Zc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Tm.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&tl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(wi.b)(this,void 0,void 0,function(){var t;return Object(wi.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function mv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Fd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new gv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(wi.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||bv(this),this._firestoreClient.terminate()},e}(av);function vv(t){return t._firestoreClient||bv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new zy(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ny(t._credentials,t._queue,r)}function wv(t,e,n){var r=this,i=new Fd;return t.asyncQueue.enqueue(function(){return Object(wi.b)(r,void 0,void 0,function(){var r;return Object(wi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Dy(t,n)];case 1:return o.sent(),[4,Ry(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Kc.FAILED_PRECONDITION||t.code===Kc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function _v(t){if(t._initialized||t._terminated)throw new $c(Kc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ov=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new $c(Kc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ml(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Sv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(vl.fromBase64String(e))}catch(e){throw new $c(Kc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(vl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Ev=function(t){this._methodName=t},Cv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new $c(Kc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $c(Kc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ol(this._lat,t._lat)||ol(this._long,t._long)},t}(),Iv=/^__.*__$/,Tv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ef(t,this.data,this.fieldMask,e,this.fieldTransforms):new tf(t,this.data,e,this.fieldTransforms)},t}(),Av=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ef(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function xv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tl()}}var jv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Yv(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(xv(this.Dc)&&Iv.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),kv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Wg(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new jv({Dc:t,methodName:e,Lc:n,path:ml.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Nv(t){var e=t._freezeSettings(),n=Wg(t._databaseId);return new kv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Kv("Data must be an object, but it was:",s,r);var a,u,c=zv(r,s);if(o.merge)a=new yl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=$v(e,f[h],n);if(!s.contains(d))throw new $c(Kc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Zv(l,d)||l.push(d)}a=new yl(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Tv(new Bl(c),a,u)}var Rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wi.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ev);function Pv(t,e,n){return new jv({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Lv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wi.c)(e,t),e.prototype._toFieldTransform=function(t){return new zh(t.path,new Lh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ev),Vv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(wi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Pv(this,t,!0),n=this.qc.map(function(t){return Bv(t,e)}),r=new Vh(n);return new zh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ev),Mv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(wi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Pv(this,t,!0),n=this.qc.map(function(t){return Bv(t,e)}),r=new Fh(n);return new zh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ev),Fv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(wi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new qh(t.R,kh(t.R,this.Uc));return new zh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ev);function Uv(t,e,n,r){var i=t.Bc(1,e,n);Kv("Data must be an object, but it was:",i,r);var o=[],s=Bl.empty();hl(r,function(t,r){var a=Qv(e,t,n);r=Object(Ho.g)(r);var u=i.kc(a);if(r instanceof Rv)o.push(a);else{var c=Bv(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new yl(o);return new Av(s,a,i.fieldTransforms)}function qv(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[$v(e,r,n)],u=[i];if(o.length%2!=0)throw new $c(Kc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push($v(e,o[c])),u.push(o[c+1]);for(var l=[],h=Bl.empty(),f=a.length-1;f>=0;--f)if(!Zv(l,a[f])){var d=a[f],p=u[f];p=Object(Ho.g)(p);var g=s.kc(d);if(p instanceof Rv)l.push(d);else{var m=Bv(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new yl(l);return new Av(h,y,s.fieldTransforms)}function Hv(t,e,n,r){return void 0===r&&(r=!1),Bv(n,t.Bc(r?4:3,e))}function Bv(t,e){if(Gv(t=Object(Ho.g)(t)))return Kv("Unsupported field value:",e,t),zv(t,e);if(t instanceof Ev)return function(t,e){if(!xv(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Bv(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Ho.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ul.fromDate(t);return{timestampValue:Uf(e.R,n)}}if(t instanceof ul)return n=new ul(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Uf(e.R,n)};if(t instanceof Cv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sv)return{bytesValue:qf(e.R,t._byteString)};if(t instanceof uv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:zf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+rv(t))}(t,e)}function zv(t,e){var n={};return fl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hl(t,function(t,r){var i=Bv(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Gv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ul||t instanceof Cv||t instanceof Sv||t instanceof uv||t instanceof Ev)}function Kv(t,e,n){if(!Gv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=rv(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function $v(t,e,n){if((e=Object(Ho.g)(e))instanceof Ov)return e._internalPath;if("string"==typeof e)return Qv(t,e);throw Yv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Wv=new RegExp("[~\\*/\\[\\]]");function Qv(t,e,n){if(e.search(Wv)>=0)throw Yv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ov.bind.apply(Ov,Object(wi.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Yv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Yv(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new $c(Kc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Zv(t,e){return t.some(function(t){return t.isEqual(e)})}var Xv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new uv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Jv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(tb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Jv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Xv);function tb(t,e){return"string"==typeof e?Qv(t,e):e instanceof Ov?e._internalPath:e._delegate._internalPath}var eb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),nb=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(wi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new rb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(tb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Xv),rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(nb),ib=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new eb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new rb(n._firestore,n._userDataWriter,r.key,r,new eb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $c(Kc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new rb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new eb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new rb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new eb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ob(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function ob(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tl()}}function sb(t,e){return t instanceof nb&&e instanceof nb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ib&&e instanceof ib&&t._firestore===e._firestore&&pv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function ab(t){if(mh(t)&&0===t.explicitOrderBy.length)throw new $c(Kc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ub=function(){};function cb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var lb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(wi.c)(e,t),e.prototype._apply=function(t){var e=Nv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new $c(Kc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){yb(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(mb(r,t,l[c]));a={arrayValue:{values:u}}}else a=mb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||yb(s,o),a=Hv(n,"where",s,"in"===o||"not-in"===o);var h=Zl.create(i,o,a);return function(t,e){if(e.g()){var n=vh(t);if(null!==n&&!n.isEqual(e.field))throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=yh(t);null!==r&&vb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new $c(Kc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new cv(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(ub),hb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(wi.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new uh(e,n);return function(t,e){if(null===yh(t)){var n=vh(t);null!==n&&vb(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new cv(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new fh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(ub),fb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(wi.c)(e,t),e.prototype._apply=function(t){return new cv(t.firestore,t._converter,Oh(t._query,this.Gc,this.zc))},e}(ub),db=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(wi.c)(e,t),e.prototype._apply=function(t){var e=gb(t,this.type,this.Hc,this.Jc);return new cv(t.firestore,t._converter,function(t,e){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(ub),pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(wi.c)(e,t),e.prototype._apply=function(t){var e=gb(t,this.type,this.Hc,this.Jc);return new cv(t.firestore,t._converter,function(t,e){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(ub);function gb(t,e,n,r){if(n[0]=Object(Ho.g)(n[0]),n[0]instanceof Xv)return function(t,e,n,r,i){if(!r)throw new $c(Kc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=wh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Vl(e,r.key));else{var c=r.data.field(u.field);if(Sl(c))throw new $c(Kc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new sh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Nv(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new $c(Kc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!bh(t)&&-1!==c.indexOf("/"))throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(pl.fromString(c));if(!xl.isDocumentKey(l))throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new xl(l);a.push(Vl(e,h))}else{var f=Hv(n,r,c);a.push(f)}}return new sh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function mb(t,e,n){if("string"==typeof(n=Object(Ho.g)(n))){if(""===n)throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!bh(e)&&-1!==n.indexOf("/"))throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(pl.fromString(n));if(!xl.isDocumentKey(r))throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Vl(t,new xl(r))}if(n instanceof uv)return Vl(t,n._key);throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rv(n)+".")}function yb(t,e){if(!Array.isArray(t)||0===t.length)throw new $c(Kc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new $c(Kc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function vb(t,e,n){if(!n.isEqual(e))throw new $c(Kc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var bb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),jl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _l(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ol(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw tl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return hl(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Cv(_l(t.latitude),_l(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=El(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Cl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=wl(t);return new ul(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=pl.fromString(t);el(gd(n));var r=new Gy(n.get(1),n.get(3)),i=new xl(n.popFirst(5));return r.isEqual(e)||Zc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function wb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _b=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wi.c)(e,t),e.prototype.convertBytes=function(t){return new Sv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uv(this.firestore,null,e)},e}(bb),Ob=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Nv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Sb(t,this._firestore),i=wb(r._converter,e,n),o=Dv(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Kh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Sb(t,this._firestore);return o="string"==typeof(e=Object(Ho.g)(e))||e instanceof Ov?qv(this._dataReader,"WriteBatch.update",s._key,e,n,r):Uv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Kh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Sb(t,this._firestore);return this._mutations=this._mutations.concat(new uf(e._key,Kh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new $c(Kc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Sb(t,e){if((t=Object(Ho.g)(t)).firestore!==e)throw new $c(Kc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Eb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wi.c)(e,t),e.prototype.convertBytes=function(t){return new Sv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uv(this.firestore,null,e)},e}(bb);function Cb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=iv(t,uv);var o=iv(t.firestore,yv),s=Nv(o);return Tb(o,[("string"==typeof(e=Object(Ho.g)(e))||e instanceof Ov?qv(s,"updateDoc",t._key,e,n,r):Uv(s,"updateDoc",t._key,e)).toMutation(t._key,Kh.exists(!0))])}function Ib(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(Ho.g)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||mv(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(mv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof uv)c=iv(t.firestore,yv),l=ph(t._key.path),u={next:function(e){i[a]&&i[a](Ab(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=iv(t,cv);c=iv(d.firestore,yv),l=d._query;var p=new Eb(c);u={next:function(t){i[a]&&i[a](new ib(c,p,d,t))},error:i[a+1],complete:i[a+2]},ab(t._query)}return function(t,e,n,r){var i=this,o=new xy(r),s=new Fm(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(i,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return e=Rm,[4,qy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(i,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return e=Pm,[4,qy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(vv(c),l,h,u)}function Tb(t,e){return function(t,e){var n=this,r=new Fd;return t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(n,void 0,void 0,function(){var n;return Object(wi.d)(this,function(i){switch(i.label){case 0:return n=Zm,[4,Uy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(vv(t),e)}function Ab(t,e,n){var r=n.docs.get(e._key),i=new Eb(t);return new nb(t,i,e._key,r,new eb(n.hasPendingWrites,n.fromCache),e._converter)}var xb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(wi.c)(e,t),e.prototype.get=function(e){var n=this,r=Sb(e,this._firestore),i=new Eb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new nb(n._firestore,i,r._key,t._document,new eb(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Nv(t)}return t.prototype.get=function(t){var e=this,n=Sb(t,this._firestore),r=new _b(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return tl();var i=t[0];if(i.isFoundDocument())return new Xv(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Xv(e._firestore,r,n._key,null,n._converter);throw tl()})},t.prototype.set=function(t,e,n){var r=Sb(t,this._firestore),i=wb(r._converter,e,n),o=Dv(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Sb(t,this._firestore);return o="string"==typeof(e=Object(Ho.g)(e))||e instanceof Ov?qv(this._dataReader,"Transaction.update",s._key,e,n,r):Uv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Sb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function jb(){if("undefined"==typeof Uint8Array)throw new $c(Kc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function kb(){if("undefined"==typeof atob)throw new $c(Kc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Nb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return kb(),new t(Sv.fromBase64String(e))},t.fromUint8Array=function(e){return jb(),new t(Sv.fromUint8Array(e))},t.prototype.toBase64=function(){return kb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return jb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Db=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_v(t=iv(t,yv));var n=vv(t),r=t._freezeSettings(),i=new Ay;return wv(n,i,new Iy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_v(t=iv(t,yv));var e=vv(t),n=t._freezeSettings(),r=new Ay;return wv(e,r,new Ty(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new $c(Kc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Fd;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(wi.b)(e,void 0,void 0,function(){var e;return Object(wi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(wi.b)(this,void 0,void 0,function(){return Object(wi.d)(this,function(e){switch(e.label){case 0:return Hd.yt()?[4,Hd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Jp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Rb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Gy||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=iv(t,av))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Xc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(wi.b)(e,void 0,void 0,function(){var e,n;return Object(wi.d)(this,function(r){switch(r.label){case 0:return[4,Vy(t)];case 1:return e=r.sent(),[4,Fy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=nl(t);return e.$r.delete(0),nm(e)}(n))]}})})})}(vv(iv(this._delegate,yv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(wi.b)(e,void 0,void 0,function(){var e,n;return Object(wi.d)(this,function(r){switch(r.label){case 0:return[4,Vy(t)];case 1:return e=r.sent(),[4,Fy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(wi.b)(this,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return(e=nl(t)).$r.add(0),[4,rm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(vv(iv(this._delegate,yv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&tv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Fd;return t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(e,void 0,void 0,function(){var e;return Object(wi.d)(this,function(r){switch(r.label){case 0:return e=ry,[4,Uy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(vv(iv(this._delegate,yv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new xy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(n,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){nl(t).Gr.add(e),e.next()},[4,qy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(n,void 0,void 0,function(){var e;return Object(wi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){nl(t).Gr.delete(e)},[4,qy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(vv(t=iv(t,yv)),mv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new $c(Kc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Wb(this,hv(this._delegate,t))}catch(t){throw Ub(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Fb(this,fv(this._delegate,t))}catch(t){throw Ub(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Gb(this,function(t,e){if(t=iv(t,av),Xy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $c(Kc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new cv(t,null,function(t){return new fh(pl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ub(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Fd;return t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(n,void 0,void 0,function(){var n;return Object(wi.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Ly(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new ky(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(vv(t),function(n){return e(new xb(t,n))})}(this._delegate,function(n){return t(new Lb(e,n))})},t.prototype.batch=function(){var t=this;return vv(this._delegate),new Vb(new Ob(this._delegate,function(e){return Tb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new $c(Kc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new $c(Kc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Pb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wi.c)(e,t),e.prototype.convertBytes=function(t){return new Nb(new Sv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Fb.Zc(e,this.firestore,null)},e}(bb),Lb=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Pb(t)}return t.prototype.get=function(t){var e=this,n=Qb(t);return this._delegate.get(n).then(function(t){return new Bb(e._firestore,new nb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=Qb(t);return n?(Jy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Qb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(wi.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Qb(t);return this._delegate.delete(e),this},t}(),Vb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Qb(t);return n?(Jy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Qb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(wi.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Qb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Mb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new rb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new zb(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Pb(e),n),i.set(n,o)),o},t}();Mb.eu=new WeakMap;var Fb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Pb(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new $c(Kc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new uv(n._delegate,r,new xl(e)))},t.Zc=function(e,n,r){return new t(n,new uv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Wb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Wb(this.firestore,hv(this._delegate,t))}catch(t){throw Ub(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Ho.g)(t))instanceof uv&&dv(this._delegate,t)},t.prototype.set=function(t,e){e=Jy("DocumentReference.set",e);try{return function(t,e,n){t=iv(t,uv);var r=iv(t.firestore,yv),i=wb(t._converter,e,n);return Tb(r,[Dv(Nv(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Kh.none())])}(this._delegate,t,e)}catch(t){throw Ub(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Cb(this._delegate,t):Cb.apply(void 0,Object(wi.f)([this._delegate,t,e],n))}catch(t){throw Ub(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Tb(iv((t=this._delegate).firestore,yv),[new uf(t._key,Kh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qb(e),i=Hb(e,function(e){return new Bb(t.firestore,new nb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Ib(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iv(t,uv);var e=iv(t.firestore,yv),n=vv(e),r=new Eb(e);return function(t,e){var n=this,r=new Fd;return t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(n,void 0,void 0,function(){var n;return Object(wi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i;return Object(wi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=nl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new $c(Kc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Am(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,My(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new nb(e,r,t._key,n,new eb(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=iv(t,uv);var e=iv(t.firestore,yv);return Hy(vv(e),t._key,{source:"server"}).then(function(n){return Ab(e,t,n)})}(this._delegate):function(t){t=iv(t,uv);var e=iv(t.firestore,yv);return Hy(vv(e),t._key).then(function(n){return Ab(e,t,n)})}(this._delegate)).then(function(t){return new Bb(e.firestore,new nb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Mb.tu(this.firestore,e):null))},t}();function Ub(t,e,n){return t.message=t.message.replace(e,n),t}function qb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!mv(r))return r}return{}}function Hb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=mv(t[0])?t[0]:mv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Bb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Fb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return sb(this._delegate,t._delegate)},t}(),zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wi.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Bb),Gb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Pb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,cb(this._delegate,function(t,e,n){var r=e,i=tb("where",t);return new lb(i,r,n)}(e,n,r)))}catch(e){throw Ub(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,cb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=tb("orderBy",t);return new hb(r,n)}(e,n)))}catch(e){throw Ub(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,cb(this._delegate,function(t){return ov("limit",t),new fb("limit",t,"F")}(e)))}catch(e){throw Ub(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,cb(this._delegate,function(t){return ov("limitToLast",t),new fb("limitToLast",t,"L")}(e)))}catch(e){throw Ub(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new db("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Ub(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new db("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Ub(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Ub(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Ub(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return pv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iv(t,cv);var e=iv(t.firestore,yv),n=vv(e),r=new Eb(e);return function(t,e){var n=this,r=new Fd;return t.asyncQueue.enqueueAndForget(function(){return Object(wi.b)(n,void 0,void 0,function(){var n;return Object(wi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wi.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(wi.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,pg(t,e,!0)];case 1:return a=u.sent(),r=new zm(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Am(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,My(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new ib(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=iv(t,cv);var e=iv(t.firestore,yv),n=vv(e),r=new Eb(e);return By(n,t._query,{source:"server"}).then(function(n){return new ib(e,r,t,n)})}(this._delegate):function(t){t=iv(t,cv);var e=iv(t.firestore,yv),n=vv(e),r=new Eb(e);return ab(t._query),By(n,t._query).then(function(n){return new ib(e,r,t,n)})}(this._delegate)).then(function(t){return new $b(e.firestore,new ib(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qb(e),i=Hb(e,function(e){return new $b(t.firestore,new ib(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Ib(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Mb.tu(this.firestore,e):null))},t}(),Kb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new zb(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),$b=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Gb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new zb(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Kb(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new zb(n._firestore,r))})},t.prototype.isEqual=function(t){return sb(this._delegate,t._delegate)},t}(),Wb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(wi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Fb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Fb(this.firestore,void 0===t?fv(this._delegate):fv(this._delegate,t))}catch(t){throw Ub(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=iv(t.firestore,yv),r=fv(t),i=wb(t._converter,e);return Tb(n,[Dv(Nv(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Kh.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Fb(e.firestore,t)})},e.prototype.isEqual=function(t){return dv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Mb.tu(this.firestore,t):null))},e}(Gb);function Qb(t){return iv(t,uv)}var Yb,Zb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ov.bind.apply(Ov,Object(wi.f)([void 0],t)))}return t.documentId=function(){return new t(ml.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Ho.g)(t))instanceof Ov&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Xb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Lv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Rv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Fv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Jb=n("/6Yf"),tw={Firestore:Rb,GeoPoint:Cv,Timestamp:ul,Blob:Nb,Transaction:Lb,WriteBatch:Vb,DocumentReference:Fb,DocumentSnapshot:Bb,Query:Gb,QueryDocumentSnapshot:zb,QuerySnapshot:$b,CollectionReference:Wb,FieldPath:Zb,FieldValue:Xb,setLogLevel:function(t){Wc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Jb.a("firestore",function(t){return function(t,e){return new Rb(t,new yv(t,e),new Db)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},tw)))})(Yb=qo.a),Yb.registerVersion("@firebase/firestore","2.2.4");var ew=n("VRyK"),nw=n("qgXg"),rw=n("Ylt2");class iw extends bt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new ow(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new wt.a;if(this.isStopped||this.hasError?o=_e.a.EMPTY:(this.observers.push(t),o=new rw.a(this,t)),r&&t.add(t=new Mo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||nw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class ow{constructor(t,e){this.time=t,this.value=e}}function sw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new iw(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function aw(t,e){return e?Ht(()=>t,e):Ht(()=>t)}var uw=n("tf+s");const cw=new r.r("angularfire2.auth.use-emulator"),lw=new r.r("angularfire2.auth.settings"),hw=new r.r("angularfire2.auth.tenant-id"),fw=new r.r("angularfire2.auth.langugage-code"),dw=new r.r("angularfire2.auth.use-device-language"),pw=new r.r("angularfire.auth.persistence");let gw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Fo.d(i),f=Object(Fo.h)(h),d=new bt.a,p=Object(vt.a)(void 0).pipe(Object(Mo.b)(h.outsideAngular),Ht(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Ut.a)(()=>Object(Fo.g)(t,i,e)),Object(Ut.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Fo.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),sw({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(vt.a)(null);else{p.pipe(ve()).subscribe();const t=p.pipe(Ht(t=>t.getRedirectResult().then(t=>t,()=>null)),f,sw({bufferSize:1,refCount:!1})),e=t=>new At.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Ht(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Ht(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(aw(n),Object(uw.a)(h.outsideAngular),Object(Mo.b)(h.insideAngular)),this.user=t.pipe(aw(r),Object(uw.a)(h.outsideAngular),Object(Mo.b)(h.insideAngular)),this.idToken=this.user.pipe(Ht(t=>t?Object(yt.a)(t.getIdToken()):Object(vt.a)(null))),this.idTokenResult=this.user.pipe(Ht(t=>t?Object(yt.a)(t.getIdTokenResult()):Object(vt.a)(null))),this.credential=Object(ew.a)(t,d,this.authState.pipe(Jt(t=>!t))).pipe(Object(Ut.a)(t=>(null==t?void 0:t.user)?t:null),Object(uw.a)(h.outsideAngular),Object(Mo.b)(h.insideAngular))}return Object(Fo.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Fo.c),r.Sb(Fo.b,8),r.Sb(r.C),r.Sb(r.A),r.Sb(cw,8),r.Sb(lw,8),r.Sb(hw,8),r.Sb(fw,8),r.Sb(dw,8),r.Sb(pw,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Sb)(Fo.c),Object(r.Sb)(Fo.b,8),Object(r.Sb)(r.C),Object(r.Sb)(r.A),Object(r.Sb)(cw,8),Object(r.Sb)(lw,8),Object(r.Sb)(hw,8),Object(r.Sb)(fw,8),Object(r.Sb)(dw,8),Object(r.Sb)(pw,8))},token:t,providedIn:"any"}),t})();Object(Fo.e)(gw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let mw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[gw]}),t})();function yw(t,e){return function(t,e=No.a){return new At.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function vw(t,e){return yw(t,e).pipe(Object(Ut.a)(t=>({payload:t,type:"query"})))}function bw(t,e){return vw(t,e).pipe(Qt(void 0),Do(),Object(Ut.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function ww(t,e,n){return bw(t,n).pipe(Yt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return _w(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return _w(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _w(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Lo(void 0,void 0)),Object(Ut.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function _w(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Ow(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Sw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=bw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ut.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Qt(void 0),Do(),Jt(([t,e])=>e.length>0||!t),Object(Ut.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Yt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ow(t);return ww(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return vw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(Mo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Ew(this.ref.doc(t),this.afs)}}class Ew{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=jw(n,e);return new Sw(r,i,this.afs)}snapshotChanges(){return yw(this.ref,this.afs.schedulers.outsideAngular).pipe(Qt(void 0),Do(),Object(Ut.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ut.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(yt.a)(this.ref.get(t)).pipe(Object(Mo.b)(this.afs.schedulers.insideAngular))}}class Cw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?bw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jt(t=>t.length>0),this.afs.keepUnstableUntilFirst):bw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Yt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ow(t);return ww(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return vw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(Mo.b)(this.afs.schedulers.insideAngular))}}const Iw=new r.r("angularfire2.enableFirestorePersistence"),Tw=new r.r("angularfire2.firestore.persistenceSettings"),Aw=new r.r("angularfire2.firestore.settings"),xw=new r.r("angularfire2.firestore.use-emulator");function jw(t,e=(t=>t)){return{query:e(t),ref:t}}let kw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Fo.d(o),this.keepUnstableUntilFirst=Object(Fo.h)(this.schedulers);const c=Object(Fo.g)(t,o,e);!Uo.a.auth&&u&&Object(Fo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Fo.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return Object(yt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Yb){return"undefined"!=typeof console&&console.warn(Yb),Object(vt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(vt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=jw(n,e),o=this.schedulers.ngZone.run(()=>r);return new Sw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Cw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Ew(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Fo.c),r.Sb(Fo.b,8),r.Sb(Iw,8),r.Sb(Aw,8),r.Sb(r.C),r.Sb(r.A),r.Sb(Tw,8),r.Sb(xw,8),r.Sb(cw,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Sb)(Fo.c),Object(r.Sb)(Fo.b,8),Object(r.Sb)(Iw,8),Object(r.Sb)(Aw,8),Object(r.Sb)(r.C),Object(r.Sb)(r.A),Object(r.Sb)(Tw,8),Object(r.Sb)(xw,8),Object(r.Sb)(cw,8))},token:t,providedIn:"any"}),t})(),Nw=(()=>{class t{constructor(t){this.afs=t,this.nameCollectionDB="users",this.usersLogC=t.collection(this.nameCollectionDB)}getAllUsersLogs(){return this.afs.collection(this.nameCollectionDB).snapshotChanges().pipe(Object(Ut.a)(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}onSaveContact(t){return Object(wi.b)(this,void 0,void 0,function*(){return new Promise((e,n)=>Object(wi.b)(this,void 0,void 0,function*(){try{const n=this.afs.createId(),r=Object.assign({id:n},t),i=this.usersLogC.doc(n).set(r);e(i)}catch(r){n(r.message)}}))})}saveUserLog(t){return this.usersLogC.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(kw))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Dw=(()=>{class t{constructor(t){this.afAuth=t}loguear(t,e){return Object(wi.b)(this,void 0,void 0,function*(){try{return yield this.afAuth.signInWithEmailAndPassword(t,e)}catch(n){console.log(n)}return""})}registrar(t,e){return Object(wi.b)(this,void 0,void 0,function*(){try{return yield this.afAuth.createUserWithEmailAndPassword(t,e)}catch(n){return"error"}return""})}desloguear(){return Object(wi.b)(this,void 0,void 0,function*(){try{yield this.afAuth.signOut()}catch(t){console.log(t)}})}getUsuarioLogueado(){return this.afAuth.authState.pipe(ve()).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(gw))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function Rw(t,e){if(1&t&&(r.Ob(0,"div",13),r.Ob(1,"div",14),r.mc(2),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.Ab(2),r.oc(" ",t.GetEmailErrorMessage()," ")}}function Pw(t,e){if(1&t&&(r.Ob(0,"div",13),r.Ob(1,"div",14),r.mc(2),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.Ab(2),r.oc(" ",t.GetPasswordErrorMessage()," ")}}const Lw=function(t){return{"is-invalid":t}},Vw=function(){return["/registro"]},Mw=function(){return["home"]};function Fw(t,e){if(1&t&&(r.Ob(0,"div",13),r.Ob(1,"div",14),r.mc(2),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.Ab(2),r.oc(" ",t.GetEmailErrorMessage()," ")}}function Uw(t,e){if(1&t&&(r.Ob(0,"div",13),r.Ob(1,"div",14),r.mc(2),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.Ab(2),r.oc(" ",t.GetPasswordErrorMessage()," ")}}const qw=function(t){return{"is-invalid":t}},Hw=function(){return["/login"]},Bw=[{path:"home",component:vi},{path:"login",component:(()=>{class t{constructor(t,e,n){this.as=t,this.router=e,this.lg=n,this.emailPattern=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.email=new vo("",[Ni.required,Ni.pattern(this.emailPattern)]),this.password=new vo("",[Ni.required,Ni.minLength(6)]),this.loginForm=new bo({email:this.email,password:this.password}),this.submitted=!1}ngOnInit(){}Loguear(){return Object(wi.b)(this,void 0,void 0,function*(){this.submitted=!0;const{email:t,password:e}=this.loginForm.value;try{const n=yield this.as.loguear(t,e),r={email:t,loggedAt:(new Date).toLocaleDateString()+" - "+(new Date).toLocaleTimeString()};n&&(this.lg.saveUserLog(r),console.log(r.loggedAt),this.submitted=!1,this.router.navigate(["/home"]))}catch(n){console.log(n)}})}GetEmailErrorMessage(){return this.email.hasError("required")?"Este campo es requerido":this.email.hasError("pattern")?"Email no valido":""}GetPasswordErrorMessage(){return this.password.hasError("required")?"Este campo es requerido":this.password.hasError("minlength")?"La contrase\xf1a debe contener 6 o mas caracteres ":""}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Dw),r.Lb(Qr),r.Lb(Nw))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-login"]],features:[r.zb([Dw,Nw])],decls:24,vars:11,consts:[[1,"col-md-5","mx-auto","mt-5"],[1,"card-body"],[1,"text-white","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email",1,"text-white","h4","mb-1"],["type","email","formControlName","email",1,"form-control","mb-3",3,"ngClass"],["class","alert-danger",4,"ngIf"],["for","email",1,"text-white","h4"],["type","password","minlength","1","formControlName","password",1,"form-control","mb-3",3,"ngClass"],[1,"btn","btn-lg","btn-outline-light","mt-3"],[1,"form-group","h6","mt-2"],[1,"log",3,"routerLink"],[1,"alert-danger"],[1,"container-error-message"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h2",2),r.mc(3,"LOGIN"),r.Nb(),r.Mb(4,"br"),r.Mb(5,"br"),r.Ob(6,"form",3),r.Vb("ngSubmit",function(){return e.Loguear()}),r.Ob(7,"div",4),r.Ob(8,"label",5),r.mc(9,"E-mail: "),r.Nb(),r.Mb(10,"input",6),r.kc(11,Rw,3,1,"div",7),r.Nb(),r.Ob(12,"div",4),r.Ob(13,"label",8),r.mc(14,"Contrase\xf1a: "),r.Nb(),r.Mb(15,"input",9),r.kc(16,Pw,3,1,"div",7),r.Nb(),r.Ob(17,"button",10),r.mc(18,"Loguearse"),r.Nb(),r.Nb(),r.Ob(19,"div",11),r.Ob(20,"p"),r.mc(21,"Todavia no tienes una cuenta? "),r.Ob(22,"a",12),r.mc(23,"Registrarte"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Ab(6),r.cc("formGroup",e.loginForm),r.Ab(4),r.cc("ngClass",r.ec(6,Lw,e.submitted&&e.email.errors)),r.Ab(1),r.cc("ngIf",e.submitted&&e.email.invalid),r.Ab(4),r.cc("ngClass",r.ec(8,Lw,e.submitted&&e.password.errors)),r.Ab(1),r.cc("ngIf",e.submitted&&e.password.invalid),r.Ab(6),r.cc("routerLink",r.dc(10,Vw)))},directives:[_o,Ji,Co,Ii,Xi,To,A,x,xo,Zr],styles:[".log[_ngcontent-%COMP%]{color:#fff;margin-left:1%}.log[_ngcontent-%COMP%]:hover{color:#000}.alert-danger[_ngcontent-%COMP%]{color:#721c24;font-weight:500;background-color:#f8d7da;border-color:#f5c6cb;margin-bottom:2px;padding-top:6px;padding-bottom:6px;outline:2px;border-radius:5px}.container-error-message[_ngcontent-%COMP%]{padding:3px}"]}),t})()},{path:"quien-soy",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-quien-soy"]],decls:12,vars:2,consts:[[1,"container","col-7"],["src","../../../assets/images/perfil.jpeg","width","250","height","450","alt","img user"],["type","button",1,"btn","btn-outline-light","btn-lg","btn-block",3,"routerLink"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1"),r.mc(2,"Facundo Rocha"),r.Nb(),r.Mb(3,"br"),r.Mb(4,"br"),r.Mb(5,"img",1),r.Ob(6,"p"),r.mc(7,"Lorem ipsum, dolor sit am et consectetur adipisicin g elit. Suscipit neque est unde perferendis similique, vitae repellat harum distinctio labore asperiores voluptatem laudantium repellendus nobis. Ab qui harum deserunt culpa nemo!\n"),r.Nb(),r.Ob(8,"p"),r.mc(9,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto voluptas asperiores cumque, commodi repellendus doloremque, magnam quia voluptate harum illum, quos atque molestiae veniam eius et aut. Beatae, aspernatur dolores. "),r.Nb(),r.Ob(10,"button",2),r.mc(11,"Volver a Home"),r.Nb(),r.Nb()),2&t&&(r.Ab(10),r.cc("routerLink",r.dc(1,Mw)))},directives:[Yr],styles:[""]}),t})()},{path:"registro",component:(()=>{class t{constructor(t,e,n){this.as=t,this.router=e,this.lg=n,this.emailPattern=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.email=new vo("",[Ni.required,Ni.pattern(this.emailPattern)]),this.password=new vo("",[Ni.required,Ni.minLength(6)]),this.registerForm=new bo({email:this.email,password:this.password}),this.submitted=!1}ngOnInit(){}Registrar(){return Object(wi.b)(this,void 0,void 0,function*(){this.submitted=!0;const{email:t,password:e}=this.registerForm.value;try{let n=yield this.as.registrar(t,e);const r={email:t,loggedAt:(new Date).toLocaleDateString()+" - "+(new Date).toLocaleTimeString()};n?this.registerForm.valid&&(this.lg.saveUserLog(r),console.log(r.loggedAt),this.submitted=!1,this.router.navigate(["/home"])):this.submitted=!1}catch(n){}})}GetEmailErrorMessage(){return this.email.hasError("required")?"Este campo es requerido":this.email.hasError("pattern")?"Email no valido":""}GetPasswordErrorMessage(){return this.password.hasError("required")?"Este campo es requerido":this.password.hasError("minlength")?"La contrase\xf1a debe contener 6 o mas caracteres ":""}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Dw),r.Lb(Qr),r.Lb(Nw))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-registro"]],features:[r.zb([Dw,Nw])],decls:24,vars:11,consts:[[1,"col-md-5","mx-auto","mt-5"],[1,"card-body"],[1,"text-white","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email",1,"text-white","h4","mb-1"],["type","email","formControlName","email",1,"form-control","mb-3",3,"ngClass"],["class","alert-danger",4,"ngIf"],["for","email",1,"text-white","h4"],["type","password","minlength","1","formControlName","password",1,"form-control","mb-3",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-outline-light","mt-3"],[1,"form-group","h6","mt-2"],[1,"log",3,"routerLink"],[1,"alert-danger"],[1,"container-error-message"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h2",2),r.mc(3,"REGISTRO"),r.Nb(),r.Mb(4,"br"),r.Mb(5,"br"),r.Ob(6,"form",3),r.Vb("ngSubmit",function(){return e.Registrar()}),r.Ob(7,"div",4),r.Ob(8,"label",5),r.mc(9,"E-mail: "),r.Nb(),r.Mb(10,"input",6),r.kc(11,Fw,3,1,"div",7),r.Nb(),r.Ob(12,"div",4),r.Ob(13,"label",8),r.mc(14,"Contrase\xf1a: "),r.Nb(),r.Mb(15,"input",9),r.kc(16,Uw,3,1,"div",7),r.Nb(),r.Ob(17,"button",10),r.mc(18,"Registrarse"),r.Nb(),r.Nb(),r.Ob(19,"div",11),r.Ob(20,"p"),r.mc(21,"Ya tienes una cuenta? "),r.Ob(22,"a",12),r.mc(23,"Loguearte"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Ab(6),r.cc("formGroup",e.registerForm),r.Ab(4),r.cc("ngClass",r.ec(6,qw,e.submitted&&e.email.errors)),r.Ab(1),r.cc("ngIf",e.submitted&&e.email.invalid),r.Ab(4),r.cc("ngClass",r.ec(8,qw,e.submitted&&e.password.errors)),r.Ab(1),r.cc("ngIf",e.submitted&&e.password.invalid),r.Ab(6),r.cc("routerLink",r.dc(10,Hw)))},directives:[_o,Ji,Co,Ii,Xi,To,A,x,xo,Zr],styles:[".log[_ngcontent-%COMP%]{color:#fff;margin-left:1%}.log[_ngcontent-%COMP%]:hover{color:#000}.alert-danger[_ngcontent-%COMP%]{color:#721c24;font-weight:500;background-color:#f8d7da;border-color:#f5c6cb;margin-bottom:2px;padding-top:6px;padding-bottom:6px;outline:2px;border-radius:5px}.container-error-message[_ngcontent-%COMP%]{padding:3px}"]}),t})()},{path:"juegos",component:bi},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:vi}];let zw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[ci.forRoot(Bw)],ci]}),t})();function Gw(t,e){if(1&t){const t=r.Pb();r.Ob(0,"li",10),r.Ob(1,"a",11),r.Vb("click",function(){return r.hc(t),r.Xb(2).Desloguear()}),r.mc(2,"Desloguear"),r.Nb(),r.Nb()}}function Kw(t,e){if(1&t&&(r.Ob(0,"ul",5),r.kc(1,Gw,3,0,"li",6),r.Ob(2,"li",7),r.Ob(3,"a",8),r.mc(4),r.Nb(),r.Nb(),r.Ob(5,"h2",9),r.mc(6,"Sala de juegos - Facundo Rocha"),r.Nb(),r.Nb()),2&t){const t=e.ngIf;r.Ab(1),r.cc("ngIf",t),r.Ab(3),r.nc(null==t?null:t.email)}}const $w=function(){return["/login"]},Ww=function(){return["registro"]};function Qw(t,e){1&t&&(r.Ob(0,"ul",5),r.Ob(1,"li",7),r.Ob(2,"a",12),r.mc(3,"Login"),r.Nb(),r.Nb(),r.Ob(4,"li",7),r.Ob(5,"a",13),r.mc(6,"Registrarme"),r.Nb(),r.Nb(),r.Ob(7,"h2",9),r.mc(8,"Sala de juegos - Facundo Rocha"),r.Nb(),r.Nb()),2&t&&(r.Ab(2),r.cc("routerLink",r.dc(2,$w)),r.Ab(3),r.cc("routerLink",r.dc(3,Ww)))}let Yw=(()=>{class t{constructor(t,e){this.as=t,this.router=e,this.estaLog=!1,this.user$=this.as.afAuth.user}ngOnInit(){return Object(wi.b)(this,void 0,void 0,function*(){this.user=yield this.as.getUsuarioLogueado(),this.user&&(this.estaLog=!0)})}Desloguear(){return Object(wi.b)(this,void 0,void 0,function*(){try{yield this.as.desloguear(),this.router.navigate(["/login"])}catch(t){}})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Dw),r.Lb(Qr))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-navbar"]],features:[r.zb([Dw])],decls:7,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["id","navbarNav",1,"collapse","navbar-collapse"],["class","navbar-nav",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav"],["class","nav-item active",4,"ngIf"],[1,"nav-item"],[1,"mail","nav-link"],[1,"titulo"],[1,"nav-item","active"],[1,"desloge","nav-link",3,"click"],["aria-current","page",1,"loge","nav-link","active",3,"routerLink"],["aria-current","page",1,"registro","nav-link","active",3,"routerLink"]],template:function(t,e){if(1&t&&(r.Ob(0,"nav",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.kc(3,Kw,7,2,"ul",3),r.Yb(4,"async"),r.kc(5,Qw,9,4,"ng-template",null,4,r.lc),r.Nb(),r.Nb(),r.Nb()),2&t){const t=r.gc(6);r.Ab(3),r.cc("ngIf",r.Zb(4,2,e.user$))("ngIfElse",t)}},directives:[x,Zr],pipes:[L],styles:[".registro[_ngcontent-%COMP%]{font-weight:700;margin-left:900%;position:sticky;border-color:brown}.home[_ngcontent-%COMP%], .registro[_ngcontent-%COMP%]{font-size:18px;border-width:2px;border-radius:5em}.home[_ngcontent-%COMP%]{font-weight:900;display:block;margin-left:6%;position:absolute;color:#000;cursor:pointer}.loge[_ngcontent-%COMP%]{font-weight:700;margin-left:1630%;border-color:brown}.desloge[_ngcontent-%COMP%], .loge[_ngcontent-%COMP%]{position:sticky;font-size:18px;border-width:2px;border-radius:5em}.desloge[_ngcontent-%COMP%]{margin-left:950%;color:#000;cursor:pointer}.desloge[_ngcontent-%COMP%], .mail[_ngcontent-%COMP%]{font-weight:800}.mail[_ngcontent-%COMP%]{top:1;left:4%;width:3em;height:2em;font-size:20px;border-color:brown;border-radius:5em}.mail[_ngcontent-%COMP%], .titulo[_ngcontent-%COMP%]{position:absolute}.titulo[_ngcontent-%COMP%]{display:block;left:10%;margin-left:7em;color:brown}"]}),t})(),Zw=(()=>{class t{constructor(){this.title="tp"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Mb(0,"app-navbar"),r.Mb(1,"router-outlet"))},directives:[Yw,Jr],styles:[""]}),t})();var Xw=function(){function t(){}var e;return e=t,t.forRoot=function(){return{ngModule:e}},t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[V]]}),t}();const Jw={apiKey:"AIzaSyBAg0no9XKVmROIfsQUm-SV_r_Xm-vDYd0",authDomain:"tp-juegos.firebaseapp.com",projectId:"tp-juegos",storageBucket:"tp-juegos.appspot.com",messagingSenderId:"358775468981",appId:"1:358775468981:web:7e35bbc36c675d9b64dffc"};let t_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t,bootstrap:[Zw]}),t.\u0275inj=r.Ib({providers:[kw],imports:[[mt,zw,ko,Fo.a.initializeApp(Jw),mw,Xw.forRoot()]]}),t})();Object(r.T)(),pt().bootstrapModule(t_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);